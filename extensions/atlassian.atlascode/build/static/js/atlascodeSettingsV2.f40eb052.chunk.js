"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[820],{30981:(e,t,a)=>{a.d(t,{n:()=>o});var n=a(82096),l=a(54392),r=a(34164),i=a(96540);const c=(0,n.A)((e=>({root:{fontSize:e.typography.pxToRem(14),fontStyle:"italic"}}))),o=(0,i.memo)((({children:e,className:t,...a})=>{const n=c();return i.createElement(l.A,{variant:"subtitle1",className:(0,r.A)(n.root,t),...a},e||"")}))},31783:(e,t,a)=>{a.d(t,{x:()=>o});var n=a(82096),l=a(54392),r=a(34164),i=a(96540);const c=(0,n.A)((e=>({root:{marginRight:e.spacing(2)}}))),o=(0,i.memo)((({children:e,className:t,...a})=>{const n=c();return i.createElement(l.A,{variant:"h4",className:(0,r.A)(n.root,t),...a},e||"")}))},40157:(e,t,a)=>{a.r(t),a.d(t,{default:()=>config_ConfigPage});var n,l=a(3596),r=a(82096),i=a(29984),c=a(61434),o=a(35376),s=a(54392),m=a(74139),u=a(67264),d=a(96232),p=a(36936),b=a(27606),E=a(3148),g=a(18297),h=a(63353),A=a(86945),f=a(23078),C=a(44122),k=a(29252),S=a.n(k),v=a(96540),y=a(64933),x=a(96022),I=a(96611),w=a(9603),R=a(56872),J=a(75045),L=a(57756),q=a(95834),B=a(6406),Q=a(82782),$=a(14944),N=a(91024),P=a(42561),T=a(64794),j=a(19371),F=a(9361),O=a(25279),W=a(50569);!function(e){e.Login="login",e.RemoteLogin="remoteLogin",e.Logout="logout",e.SaveSettings="saveSettings",e.OpenJSON="openJson",e.JQLOptionsRequest="jqlOptionsRequest",e.JQLSuggestionsRequest="JQLSuggestionsRequest",e.FilterSearchRequest="filterSearchRequest",e.ValidateJqlRequest="validateJqlRequest",e.SetTarget="setTarget",e.CreateJiraIssue="createJiraIssue",e.ViewJiraIssue="viewJiraIssue",e.CreatePullRequest="createPullRequest",e.ViewPullRequest="viewPullRequest"}(n||(n={}));var U=a(11245),V=a(47933),z=a(27030),D=a(27184);const M={postMessage:e=>{},updateConfig:(e,t)=>{},setConfigTarget:e=>{},refresh:()=>{},openLink:e=>{},login:(e,t)=>{},remoteLogin:()=>{},logout:e=>{},fetchJqlOptions:e=>new Promise(((e,t)=>{e({visibleFieldNames:[],visibleFunctionNames:[],jqlReservedWords:[]})})),fetchJqlSuggestions:(e,t,a,n,l)=>new Promise(((e,t)=>{e([])})),fetchFilterSearchResults:(e,t,a,n,l)=>new Promise(((e,t)=>{e(_)})),validateJql:(e,t,a)=>new Promise(((e,t)=>{e({errors:[]})})),createPullRequest:()=>{},viewPullRequest:()=>{},createJiraIssue:()=>{},viewJiraIssue:()=>{}},_={filters:[],isLast:!0,maxResults:25,offset:0,total:0},G=v.createContext(M),H={...V.j$,isSomethingLoading:!1,openSection:x.AQ.Jira,openSubSections:[]};var K;function configReducer(e,t){switch(t.type){case K.Init:return{...e,...t.data,openSection:t.data.section?t.data.section:x.AQ.Jira,openSubSections:t.data.subSection?[t.data.subSection]:[],isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0};case K.SectionChange:return{...e,openSection:t.data.section?t.data.section:e.openSection,openSubSections:t.data.subSection?[t.data.subSection]:e.openSubSections,isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0};case K.LocalChange:return{...e,config:{...e.config,...t.changes}};case K.ConfigChange:return{...e,config:t.config,target:t.target,isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0};case K.SitesUpdate:return{...e,jiraSites:t.jiraSites,bitbucketSites:t.bitbucketSites,isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0};case K.Loading:return{...e,isSomethingLoading:!0};case W.I.SendAnalytics:return e;default:return(0,F.y)(e,t)}}!function(e){e.Init="init",e.SectionChange="sectionChange",e.ConfigChange="configChange",e.Loading="loading",e.SitesUpdate="sitesUpdate",e.LocalChange="localChange"}(K||(K={}));const StatusBar=({configSection:e,productName:t,enabled:a,showProduct:n,showUser:r,showLogin:i})=>{const c=(0,v.useContext)(G),[o,s]=(0,v.useState)({}),m=(0,v.useCallback)((t=>{const a=Object.create(null);a[`${e}.${t.target.value}`]=t.target.checked,s(a)}),[e]),u=!a;return(0,v.useEffect)((()=>{Object.keys(o).length>0&&(c.updateConfig(o),s({}))}),[o,c]),v.createElement(b.A,{container:!0,direction:"column"},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"statusbar.enabled",value:"statusbar.enabled",checked:a,onChange:m}),label:`Enable ${t} Status Bar`,spacing:1,variant:"body1"})),v.createElement(g.A,{marginLeft:2},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(j.A,{disabled:u,size:"small",color:"primary",id:"showProduct",value:"statusbar.showProduct",checked:n,onChange:m}),spacing:1,variant:"body1",label:"Show product name"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(j.A,{size:"small",disabled:u,color:"primary",id:"showUser",value:"statusbar.showUser",checked:r,onChange:m}),spacing:1,variant:"body1",label:"Show user's name"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(j.A,{size:"small",disabled:u,color:"primary",id:"showLogin",value:"statusbar.showLogin",checked:i,onChange:m}),spacing:1,variant:"body1",label:"Show login button when not authenticated"}))))};var Y=a(30981),X=a(31783);const Z=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,configSection:n,productName:l,enabled:r,showProduct:i,showUser:c,showLogin:o})=>{const[s,m]=(0,v.useState)(t),u=(0,v.useCallback)(((e,t)=>{m(t),a(x.IS.Status,t)}),[a]);return(0,v.useEffect)((()=>{m((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:s,onChange:u},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${n}-${x.IS.Auth}-content`,id:`${n}-${x.IS.Status}-header`},v.createElement(X.x,null,"Status Bar"),v.createElement(Y.n,null,`configure the status bar display for ${l}`)),v.createElement(N.A,null,v.createElement(StatusBar,{configSection:n,productName:l,enabled:r,showProduct:i,showUser:c,showLogin:o})))}));var ee=a(96746),te=a(29287);const CloudAuthButton=({product:e})=>{const t=`Login to ${e.name} Cloud`,a=(0,v.useContext)(G);return v.createElement(ee.A,{id:"settings-login-cloud-button",variant:"contained",color:"primary",startIcon:v.createElement(te.A,null),onClick:()=>(()=>{const t=e.key===B.IH.key?"atlassian.net":"bitbucket.org";a.login({host:t,product:e},{user:B.J8,state:B.sR.Valid})})()},t)};var ae=a(81905),ne=a(50384),le=a(61466),re=a(29514),ie=a(91004),ce=a(77430),oe=a(25196),se=a(42460),me=a(48672),ue=a(73486),de=a(24711),pe=a(56716),be=a(7756),Ee=a(16064),ge=a(34164),he=a(37559);const Ae=(0,r.A)((e=>({box:{borderWidth:1,borderColor:e.palette.divider,borderStyle:"solid"}}))),fe=(0,r.A)((e=>({root:{flexGrow:1},iconStyle:{color:e.palette.grey[600]}})));const SiteList=({sites:e,product:t,editServer:a})=>{const n=(0,v.useContext)(G),l=Ae(),r=fe();return v.createElement("div",{className:(0,ge.A)(r.root,l.box)},v.createElement(ue.A,null,function generateListItems(e,t,a,n,l){const r=`images/${e.key}-icon.svg`;return t.length<1?[v.createElement(ne.A,{key:"empty"},v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No sites found.")))]:t.map(((e,i)=>{const c=e.site.avatarUrl&&e.site.avatarUrl.length>0?e.site.avatarUrl:r;return v.createElement(v.Fragment,{key:(0,he.L)(e,i)},v.createElement(ne.A,{key:e.site.name},v.createElement(le.A,null,e.site.isCloud?v.createElement(te.A,{fontSize:"small",className:l}):v.createElement(pe.A,{fontSize:"small",className:l})),v.createElement(re.A,null,v.createElement(ie.A,{src:c},v.createElement(ae.cJ,null))),v.createElement(ce.A,{primary:e.site.name}),v.createElement(oe.A,null,e.auth.state===B.sR.Invalid&&v.createElement(d.Ay,{title:"Credential Error"},v.createElement(se.A,{edge:"end","aria-label":"error",onClick:()=>n(e)},v.createElement(Ee.A,{fontSize:"small",color:"inherit"}))),!e.site.isCloud&&v.createElement(se.A,{edge:"end","aria-label":"edit",onClick:()=>n(e)},v.createElement(be.A,{fontSize:"small",color:"inherit"})),v.createElement(se.A,{edge:"end","aria-label":"delete",onClick:()=>a(e.site)},v.createElement(de.A,{fontSize:"small",color:"inherit"})))),t.length!==i+1&&v.createElement(me.A,null))}))}(t,e,n.logout,(e=>{const l=e.site;if(l.isCloud){n.logout(l);const e=t.key===B.IH.key?"atlassian.net":"bitbucket.org";n.login({host:e,product:t},{user:B.J8,state:B.sR.Valid})}else a(e)}),r.iconStyle)))},Ce=(0,v.memo)((({product:e,isRemote:t,sites:a})=>{const n=(0,v.useContext)(L.y),l=(0,v.useContext)(G),r=(0,v.useCallback)((()=>{n.openDialog(e,void 0)}),[n,e]),i=(0,v.useCallback)((()=>{l.remoteLogin()}),[l]),c=(0,v.useCallback)((t=>{n.openDialog(e,t)}),[n,e]),[o]=v.useState(!1);return v.createElement(g.A,{flexGrow:1},v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(AuthContainer,{isRemote:t,product:e,openProductAuth:r,sites:a,handleEdit:c,remoteAuth:i,isRemoteAuthButtonVisible:o})))})),AuthContainer=({isRemote:e,product:t,openProductAuth:a,sites:n,handleEdit:l,remoteAuth:r,isRemoteAuthButtonVisible:i})=>v.createElement(v.Fragment,null,v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,spacing:2},!e&&v.createElement(v.Fragment,null,v.createElement(b.A,{item:!0},v.createElement(CloudAuthButton,{product:t})),v.createElement(b.A,{item:!0},v.createElement(ee.A,{color:"primary",onClick:a},"Other options...")),i&&v.createElement(b.A,{item:!0},v.createElement(ee.A,{onClick:r},"Remote Auth"))),e&&v.createElement(v.Fragment,null,v.createElement(b.A,{item:!0},v.createElement(ee.A,{color:"primary",variant:"contained",onClick:a},`Login to ${t.name}`))))),v.createElement(b.A,{item:!0},v.createElement(SiteList,{product:t,sites:n,editServer:l}))))),ke=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,isRemote:n,sites:l,product:r,section:i})=>{const[c,o]=(0,v.useState)(t),s=(0,v.useCallback)(((e,t)=>{o(t),a(x.IS.Auth,t)}),[a]);return(0,v.useEffect)((()=>{o((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:c,onChange:s},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${i}-${x.IS.Auth}-content`,id:`${i}-${x.IS.Auth}-header`},v.createElement(X.x,null,"Authentication"),v.createElement(Y.n,null,"authenticate with ",r.name," instances")),v.createElement(N.A,null,v.createElement(Ce,{product:r,isRemote:n,sites:l})))})),Se=(0,v.memo)((({enabled:e})=>{const t=(0,v.useContext)(G);return v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"bitbucketContextMenusEnabled",checked:e,onChange:e=>{const a=Object.create(null);a["bitbucket.contextMenus.enabled"]=e.target.checked,t.updateConfig(a)}}),label:"Enable Bitbucket context menus in editor",spacing:1,variant:"body1"})})),ve=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n})=>{const[l,r]=(0,v.useState)(t),i=(0,v.useCallback)(((e,t)=>{r(t),a(x.IS.ContextMenus,t)}),[a]);return(0,v.useEffect)((()=>{r((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:l,onChange:i},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Bitbucket}-${x.IS.ContextMenus}-content`,id:`${x.AQ.Bitbucket}-${x.IS.ContextMenus}-header`},v.createElement(X.x,null,"Bitbucket Context Menus"),v.createElement(Y.n,null,"configure the context menus in editor")),v.createElement(N.A,null,v.createElement(Se,{enabled:n})))}));var ye=a(44041),xe=a(8728);const Ie=(0,r.A)((e=>({root:{width:250},input:{width:48},label:{"&$disabled":{color:e.palette.text.disabled}},disabled:{}}))),we=(0,v.memo)((({interval:e,enabled:t,max:a,label:n,units:l,onChange:r,className:i})=>{const c=Ie(),[o,m]=v.useState(e),[u,d]=v.useState(void 0),p=(0,v.useMemo)((()=>void 0!==l?l:"seconds"),[l]),E=(0,v.useCallback)((e=>{m(e),d(e)}),[m,d]);return(0,v.useEffect)((()=>{m(e)}),[e]),(0,v.useEffect)((()=>{r&&void 0!==u&&r(u)}),[r,u]),v.createElement(b.A,{className:i,container:!0,spacing:4,alignItems:"center"},v.createElement(b.A,{item:!0},v.createElement(s.A,{component:"span",className:(0,ge.A)(c.label,{[c.disabled]:!t})},n)),v.createElement(b.A,{item:!0},v.createElement("div",{className:c.root},v.createElement(b.A,{container:!0,spacing:2,alignItems:"center"},v.createElement(b.A,{item:!0,xs:!0},v.createElement(ye.A,{max:a,disabled:!t,value:"number"===typeof o?o:0,valueLabelDisplay:"auto",getAriaValueText:(e,t)=>`${e}`,onChange:(e,t)=>{"number"===typeof t&&m(t)},onChangeCommitted:(e,t)=>{"number"===typeof t&&d(t)}})),v.createElement(b.A,{item:!0},v.createElement(xe.A,{disabled:!t,className:c.input,value:o,margin:"dense",onChange:e=>E(""===e.target.value?0:Number(e.target.value)),onBlur:()=>{o<0?E(0):o>a&&E(a)},inputProps:{step:5,min:0,max:a,type:"number"}})),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"caption",className:(0,ge.A)(c.label,{[c.disabled]:!t})},p))))))})),PipelinesExplorerOptions=({enableItem:e,monitorItem:t,hideEmptyItem:a,hideFilteredItem:n,intervalItem:l})=>v.createElement(v.Fragment,null,e,t,a,n,l),Re=(0,v.memo)((({filters:e,enabled:t})=>{const a=(0,v.useContext)(G),[n,r]=(0,v.useState)({}),i=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.pipelines.branchFilters`]=e,r(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(n).length>0&&(a.updateConfig(n),r({}))}),[n,a]),v.createElement(l.Ig,{options:e,reverseButtons:!0,addOptionButtonContent:"Add Filter",disabled:!t,inputLabel:"Filter Text",onChange:i,emptyComponent:v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No filters found."))})})),Je=(0,r.A)((e=>({indent:{marginLeft:e.spacing(3)}}))),Le=(0,v.memo)((({enabled:e,hideEmpty:t,hideFiltered:a,monitorEnabled:n,refreshInterval:r,filters:i})=>{const c=Je(),o=Ae(),m=(0,v.useContext)(G),[u,p]=(0,v.useState)({}),E=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.${e.target.value}`]=e.target.checked,p(t)}),[]),h=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.pipelines.refreshInterval`]=e,p(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(u).length>0&&(m.updateConfig(u),p({}))}),[u,m]),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(PipelinesExplorerOptions,{enableItem:v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Enable pipelines Explorer"},v.createElement(T.A,{color:"primary",size:"small",value:"pipelines.explorerEnabled",checked:e,onChange:E})),label:"Enable pipelines Explorer",spacing:1,variant:"body1"})),monitorItem:v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Enable notifications"},v.createElement(T.A,{className:c.indent,disabled:!e,color:"primary",size:"small",value:"pipelines.monitorEnabled",checked:n,onChange:E})),label:"Show notifications when new Bitbucket pipelines are created",spacing:1,variant:"body1"})),hideEmptyItem:v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Show empty pipelines"},v.createElement(T.A,{className:c.indent,disabled:!e,color:"primary",size:"small",checked:t,value:"pipelines.hideEmpty",onChange:E})),label:"Hide Bitbucket pipelines with no results",spacing:1,variant:"body1"})),hideFilteredItem:v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Enable filters"},v.createElement(T.A,{className:c.indent,disabled:!e,color:"primary",size:"small",checked:a,value:"pipelines.hideFiltered",onChange:E})),label:"Show only Bitbucket pipelines matching the filters below",spacing:1,variant:"body1"})),intervalItem:v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,direction:"row",spacing:1,alignItems:"center"},v.createElement(b.A,{item:!0},v.createElement(we,{className:c.indent,interval:r,max:120,label:"Refresh interval:",enabled:e,units:"minutes",onChange:h})),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"subtitle2"},"(setting to 0 disables auto-refresh)"))))}),v.createElement(b.A,{item:!0},v.createElement(g.A,{marginTop:2},v.createElement(s.A,{variant:"h4"},"Pipeline Filters"),v.createElement(g.A,{className:o.box,marginTop:1,paddingBottom:2},v.createElement(Re,{enabled:a,filters:i})))))})),qe=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n,hideEmpty:l,hideFiltered:r,monitorEnabled:i,refreshInterval:c,filters:o})=>{const[s,m]=(0,v.useState)(t),[u,d]=(0,v.useState)(o),p=(0,v.useCallback)(((e,t)=>{m(t),a(x.IS.Pipelines,t)}),[a]);return(0,v.useEffect)((()=>{d((e=>S()(e,o)?e:o))}),[o]),(0,v.useEffect)((()=>{m((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:s,onChange:p},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Bitbucket}-${x.IS.Pipelines}-content`,id:`${x.AQ.Bitbucket}-${x.IS.Pipelines}-header`},v.createElement(X.x,null,"Bitbucket Pipelines Explorer"),v.createElement(Y.n,null,"configure the Bitbucket pipelines explorer and notifications")),v.createElement(N.A,null,v.createElement(Le,{filters:u,enabled:n,hideEmpty:l,hideFiltered:r,monitorEnabled:i,refreshInterval:c})))})),Be=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,preferredRemotes:n})=>{const r=Ae(),i=(0,v.useContext)(G),[c,o]=(0,v.useState)(t),[m,u]=(0,v.useState)({}),d=(0,v.useCallback)(((e,t)=>{o(t),a(x.IS.PreferredRemotes,t)}),[a]);(0,v.useEffect)((()=>{o((e=>e!==t?t:e))}),[t]);const p=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.preferredRemotes`]=e,u(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(m).length>0&&(i.updateConfig(m),u({}))}),[m,i]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:c,onChange:d},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Bitbucket}-${x.IS.PreferredRemotes}-content`,id:`${x.AQ.Bitbucket}-${x.IS.PreferredRemotes}-header`},v.createElement(X.x,null,"Preferred Git Remotes"),v.createElement(Y.n,null,"configure the preferred remotes")),v.createElement(N.A,null,v.createElement(b.A,{container:!0,direction:"column"},v.createElement(s.A,null,"The first remote that matches the list will be used to fetch pull requests, issues, and pipelines. A random remote is chosen if a match is not found."),v.createElement(g.A,{className:r.box,marginTop:1,paddingBottom:2},v.createElement(l.Ig,{options:n,optionsOrdered:!0,reverseButtons:!0,addOptionButtonContent:"Add remote",inputLabel:"Remote",disabled:!1,onChange:p,emptyComponent:v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No preferred remotes configured."))})))))})),Qe=(0,r.A)((e=>({indent:{marginLeft:e.spacing(3)}}))),$e=(0,v.memo)((({enabled:e,relatedJiraIssues:t,relatedBitbucketIssues:a,pullRequestCreated:n,nestFiles:r,refreshInterval:i})=>{const c=Qe(),o=(0,v.useContext)(G),[m,u]=(0,v.useState)({}),d=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.${e.target.value}`]=e.target.checked,u(t)}),[]),p=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Bitbucket}.explorer.refreshInterval`]=e,u(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(m).length>0&&(o.updateConfig(m),u({}))}),[m,o]),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"bbExplorerEnabled",value:"explorer.enabled",checked:e,onChange:d}),label:"Enable Bitbucket pull requests explorer",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{className:c.indent,size:"small",color:"primary",id:"bbRelatedJiraIssues",value:"explorer.relatedJiraIssues.enabled",checked:t,disabled:!e,onChange:d}),label:"Show related Jira issues for Bitbucket pull requests",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{className:c.indent,size:"small",color:"primary",id:"bbRelatedBitbucketIssues",value:"explorer.relatedBitbucketIssues.enabled",checked:a,disabled:!e,onChange:d}),label:"Show related Bitbucket issues for pull requests",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{className:c.indent,size:"small",color:"primary",id:"bbpullRequestCreatedNotify",value:"explorer.notifications.pullRequestCreated",checked:n,disabled:!e,onChange:d}),label:"Show notifications when new Bitbucket pull requests are created",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{className:c.indent,size:"small",color:"primary",id:"bbNestFiles",value:"explorer.nestFiles",checked:r,disabled:!e,onChange:d}),label:"Nest modified files by folder",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,direction:"row",spacing:1,alignItems:"center"},v.createElement(b.A,{item:!0},v.createElement(we,{className:c.indent,interval:i,max:120,label:"Refresh explorer every:",enabled:e,units:"minutes",onChange:p})),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"subtitle2"},"(setting to 0 disables auto-refresh)")))))})),Ne=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n,relatedJiraIssues:l,relatedBitbucketIssues:r,pullRequestCreated:i,nestFiles:c,refreshInterval:o})=>{const[s,m]=(0,v.useState)(t),u=(0,v.useCallback)(((e,t)=>{m(t),a(x.IS.PR,t)}),[a]);return(0,v.useEffect)((()=>{m((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:s,onChange:u},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Bitbucket}-${x.IS.PR}-content`,id:`${x.AQ.Bitbucket}-${x.IS.PR}-header`},v.createElement(X.x,null,"Pull Requests Explorer"),v.createElement(Y.n,null,"configure the pull requests explorer and notifications")),v.createElement(N.A,null,v.createElement($e,{enabled:n,relatedJiraIssues:l,relatedBitbucketIssues:r,pullRequestCreated:i,nestFiles:c,refreshInterval:o})))})),BitbucketPanel=({visible:e,selectedSubSections:t,onSubsectionChange:a,config:n,sites:l,isRemote:r})=>v.createElement(v.Fragment,null,v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e||n["bitbucket.enabled"]},"Enable Bitbucket features to see settings")),v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e||!n["bitbucket.enabled"],role:"tabpanel"},v.createElement(b.A,{container:!0,spacing:3,direction:"column"},v.createElement(b.A,{item:!0},v.createElement(ke,{visible:e,expanded:t.includes(x.IS.Auth),onSubsectionChange:a,isRemote:r,sites:l,product:B.Bg,section:x.AQ.Bitbucket})),v.createElement(b.A,{item:!0},v.createElement(Ne,{visible:e,expanded:t.includes(x.IS.PR),onSubsectionChange:a,enabled:n[`${x.AQ.Bitbucket}.explorer.enabled`],relatedJiraIssues:n[`${x.AQ.Bitbucket}.explorer.relatedJiraIssues.enabled`],relatedBitbucketIssues:n[`${x.AQ.Bitbucket}.explorer.relatedBitbucketIssues.enabled`],pullRequestCreated:n[`${x.AQ.Bitbucket}.explorer.notifications.pullRequestCreated`],nestFiles:n[`${x.AQ.Bitbucket}.explorer.nestFilesEnabled`],refreshInterval:n[`${x.AQ.Bitbucket}.explorer.refreshInterval`]})),v.createElement(b.A,{item:!0},v.createElement(qe,{visible:e,expanded:t.includes(x.IS.Pipelines),onSubsectionChange:a,enabled:n[`${x.AQ.Bitbucket}.pipelines.explorerEnabled`],hideEmpty:n[`${x.AQ.Bitbucket}.pipelines.hideEmpty`],hideFiltered:n[`${x.AQ.Bitbucket}.pipelines.hideFiltered`],monitorEnabled:n[`${x.AQ.Bitbucket}.pipelines.monitorEnabled`],filters:n[`${x.AQ.Bitbucket}.pipelines.branchFilters`],refreshInterval:n[`${x.AQ.Bitbucket}.pipelines.refreshInterval`]})),v.createElement(b.A,{item:!0},v.createElement(Be,{visible:e,expanded:t.includes(x.IS.PreferredRemotes),onSubsectionChange:a,preferredRemotes:n[`${x.AQ.Bitbucket}.preferredRemotes`]})),v.createElement(b.A,{item:!0},v.createElement(ve,{visible:e,expanded:t.includes(x.IS.ContextMenus),onSubsectionChange:a,enabled:n[`${x.AQ.Bitbucket}.contextMenus.enabled`]})),v.createElement(b.A,{item:!0},v.createElement(Z,{visible:e,expanded:t.includes(x.IS.Status),onSubsectionChange:a,configSection:x.AQ.Bitbucket,productName:B.Bg.name,enabled:n[`${x.AQ.Bitbucket}.statusbar.enabled`],showProduct:n[`${x.AQ.Bitbucket}.statusbar.showProduct`],showUser:n[`${x.AQ.Bitbucket}.statusbar.showUser`],showLogin:n[`${x.AQ.Bitbucket}.statusbar.showLogin`]}))))));var Pe=a(13154),Te=a(46158),je=a(19773),Fe=a(22488);const Oe=(0,r.A)((e=>({button:{width:"100%",height:"100%",textTransform:"none",padding:e.spacing(3),backgroundColor:"dark"===e.palette.type?(0,je.a)(e.palette.background.paper,.05):(0,je.e$)(e.palette.background.paper,.05),color:e.palette.text.primary,"&:hover":{color:e.palette.text.primary,backgroundColor:"dark"===e.palette.type?(0,je.a)(e.palette.background.paper,.2):(0,je.e$)(e.palette.background.paper,.2)}},gifBox:{maxWidth:"100%",maxHeight:"auto",borderWidth:3,borderStyle:"solid",borderColor:"DeepSkyBlue",borderRadius:3}}))),explore_AltDemoButton=({gifLink:e,label:t,description:a,productIcon:n,action:l,onClick:r,actionNotAvailable:i})=>{const c=Oe(),[o,m]=(0,v.useState)(!1),u=(0,v.useCallback)((()=>{r(e,t,a,l,i)}),[r,e,t,a,l,i]),d=(0,v.useCallback)((()=>{m(!0)}),[]);return v.createElement(ee.A,{className:c.button,onClick:u},v.createElement(b.A,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"flex-start"},v.createElement(b.A,{item:!0,xs:12},v.createElement(s.A,{variant:"h4",align:"left"},t," ",n)),v.createElement(b.A,{item:!0,xs:12},v.createElement(me.A,null)),v.createElement(b.A,{item:!0,lg:3,md:6,sm:12,xs:12},v.createElement(g.A,{hidden:o},v.createElement(Fe.A,{variant:"rect",width:"100%",height:"200px"})),v.createElement(g.A,{hidden:!o},v.createElement("img",{"aria-label":`Gif showing "${a}" action`,className:c.gifBox,src:e,onLoad:d}))),v.createElement(b.A,{item:!0,lg:9,md:6,sm:12,xs:12},v.createElement(s.A,{variant:"body1",align:"left"},a))))},We=(0,r.A)((e=>({code:{backgroundColor:"rgb(220, 220, 220)",color:"rgb(208, 66, 103)",borderRadius:5,margin:e.spacing(0,1),padding:e.spacing(0,1)},linkified:{"&:hover":{backgroundColor:"white"}}}))),ExplorePanel=({visible:e,config:t,sectionChanger:a})=>{const n=We(),l=(0,v.useContext)(G),[r,i]=(0,v.useState)(!1),[c,o]=(0,v.useState)(""),[s,m]=(0,v.useState)(""),[u,d]=(0,v.useState)(),[p,E]=(0,v.useState)((()=>()=>{})),[g,h]=(0,v.useState)(!1),A=(0,v.useCallback)(((e,t,a,n,l)=>{o(t),m(e),d(a),E((()=>n)),h(l),i(!0)}),[]),f=(0,v.useCallback)((()=>{i(!1)}),[]),C=(0,v.useCallback)((()=>{p()}),[p]),k=(0,v.useCallback)((e=>{e.stopPropagation(),i(!1),a(x.AQ.Jira,x.IS.Triggers)}),[a]),S=(0,v.useCallback)((e=>{e.stopPropagation(),i(!1),a(x.AQ.Jira,x.IS.Issues)}),[a]);return v.createElement(v.Fragment,null,v.createElement(Te.E,{modalTitle:c,modalGifLink:s,modalDescription:u,modalVisibility:r,onClose:f,action:C,actionNotAvailable:g}),v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e,role:"tabpanel"},v.createElement(b.A,{container:!0,spacing:3,direction:"column"},v.createElement(b.A,{item:!0,hidden:!t["jira.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/CreateIssueFromTodo.gif",label:"Create a Jira issue from a code comment",description:v.createElement(v.Fragment,null,"Adding a trigger to your code comments will bring up a"," ",v.createElement("code",{className:n.code},"Create Jira Issue")," code lens action. Pressing this button brings up an issue creation screen with the description already filled in with the contents of the comment. These triggers are configurable in the extension settings under"," ",v.createElement("code",{className:[n.code,n.linkified].join(" "),onClick:k},"Jira > Create Jira Issue Triggers > Comment Triggers")),productIcon:v.createElement(ae.cJ,{style:{float:"right",color:"#0052CC"}}),action:()=>{},onClick:A,actionNotAvailable:!0})),v.createElement(b.A,{item:!0,hidden:!t["jira.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/StartWorkTutorial.gif",label:"Start Work from a Jira issue",description:v.createElement(v.Fragment,null,"When viewing a Jira issue, pressing"," ",v.createElement("code",{className:n.code},"Start Work")," will open the"," ",v.createElement("code",{className:n.code},"Start Work Screen.")," From here you can"," ",v.createElement("b",null,"assign the issue to yourself, transition the issue's status, and create (and checkout) a branch")," ","for this issue all in ",v.createElement("b",null,"one click!")),productIcon:v.createElement(v.Fragment,null,v.createElement(Pe.A,{color:"primary",style:{float:"right",color:"#0052CC"}}),v.createElement(ae.cJ,{style:{float:"right",color:"#0052CC"}})),action:()=>{},onClick:A,actionNotAvailable:!0})),v.createElement(b.A,{item:!0,hidden:!t["jira.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/CreateJiraIssue.gif",label:"Create a Jira issue",description:v.createElement(v.Fragment,null,"Jira issues can be created by pressing the"," ",v.createElement("code",{className:n.code},"Create issue...")," button in the"," ",v.createElement("code",{className:n.code},"JIRA ISSUES"),"explorer. This will open a view that resembles the issue creation process on the Jira website."),productIcon:v.createElement(ae.cJ,{style:{float:"right",color:"#0052CC"}}),action:l.createJiraIssue,onClick:A})),v.createElement(b.A,{item:!0,hidden:!t["jira.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/ReviewJiraIssue.gif",label:"View a Jira issue",description:v.createElement(v.Fragment,null,"Jira issues show up in the ",v.createElement("code",{className:n.code},"JIRA ISSUES")," ","explorer and are grouped by JQL queries/filters. The issues which show up are configurable in the extension settings under"," ",v.createElement("code",{className:[n.code,n.linkified].join(" "),onClick:S},"Jira > Jira Issues Explorer > Filters and Custom JQL."),"To view an issue, expand a filter and click on the issue."),productIcon:v.createElement(ae.cJ,{style:{float:"right",color:"#0052CC"}}),action:l.viewJiraIssue,onClick:A})),v.createElement(b.A,{item:!0,hidden:!t["bitbucket.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/CreatePullRequest.gif",label:"Create a pull request",description:v.createElement(v.Fragment,null,"Bitbucket pull requests can be created by pressing the"," ",v.createElement("code",{className:n.code},"Create pull request..."),"button in the ",v.createElement("code",{className:n.code},"BITBUCKET PULL REQUESTS")," ","explorer. This will open a view that resembles the pull request creation process on the Bitbucket website."),productIcon:v.createElement(Pe.A,{color:"primary",style:{float:"right",color:"#0052CC"}}),action:l.createPullRequest,onClick:A})),v.createElement(b.A,{item:!0,hidden:!t["bitbucket.enabled"]},v.createElement(explore_AltDemoButton,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/ReviewAndApprovePullRequest.gif",label:"Review a pull request",description:v.createElement(v.Fragment,null,"Bitbucket pull request show up in the"," ",v.createElement("code",{className:n.code},"BITBUCKET PULL REQUESTS")," explorer and are grouped by repository. Expanding a pull request will reveal a"," ",v.createElement("code",{className:n.code},"Details")," node nodes for each affected file. Clicking the ",v.createElement("code",{className:n.code},"Details")," node will open a WebView with an overview of the pull request. Clicking the file nodes will show a diff for that file with inline comments from Bitbucket."),productIcon:v.createElement(Pe.A,{color:"primary",style:{float:"right",color:"#0052CC"}}),action:l.viewPullRequest,onClick:A}))))))},Ue=(0,v.memo)((({enableHttpsTunnel:e,offlineMode:t,onlineCheckerUrls:a})=>{const n=(0,v.useContext)(G),[r,i]=(0,v.useState)({}),c=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${e.target.value}`]=e.target.checked,i(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(r).length>0&&(n.updateConfig(r),i({}))}),[r,n]),v.createElement(b.A,{container:!0,direction:"column",spacing:3},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"enableHttpsTunnel",value:"enableHttpsTunnel",checked:e,onChange:c}),label:"Enable https tunneling for proxies that only have an http endpoint",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"offlineMode",value:"offlineMode",checked:t,onChange:c}),label:"Enable offline mode if you are without an internet connection to minimize errors",spacing:1,variant:"body1"})))})),Ve=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enableHttpsTunnel:n,offlineMode:l,onlineCheckerUrls:r})=>{const[i,c]=(0,v.useState)(t),o=(0,v.useCallback)(((e,t)=>{c(t),a(x.IS.Connectivity,t)}),[a]);return(0,v.useEffect)((()=>{c((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:i,onChange:o},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.General}-${x.IS.Connectivity}-content`,id:`${x.AQ.General}-${x.IS.Connectivity}-header`},v.createElement(X.x,null,"Connectivity"),v.createElement(Y.n,null,"configure general connectivity settings")),v.createElement(N.A,null,v.createElement(Ue,{enableHttpsTunnel:n,offlineMode:l,onlineCheckerUrls:r})))}));var ze=a(10782),De=a(82247);const Me=(0,r.A)((e=>({box:{marginLeft:e.spacing(3),paddingLeft:e.spacing(3),paddingRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),borderWidth:1,borderColor:e.palette.divider,borderStyle:"solid"},hidden:{display:"none"}})));const _e=(0,v.memo)((({enableCurl:e,enableCharles:t,charlesCertPath:a,charlesDebugOnly:n,showCreateIssueProblems:r})=>{const i=(0,v.useContext)(G),c=Me(),[o,m]=(0,v.useState)({}),u=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${e.target.value}`]=e.target.checked,m(t)}),[]),p=(0,v.useCallback)((e=>{if(e.target.files&&e.target.files.length>0){const t=Object.create(null);t.charlesCertPath=function toFileWithPath(e){const{webkitRelativePath:t}=e;return Object.defineProperty(e,"path",{value:"string"===typeof t&&t.length>0?t:e.name,writable:!1,configurable:!1,enumerable:!0}),e}(e.target.files[0]).path,m(t)}}),[]),E=(0,v.useCallback)((e=>{const t=Object.create(null);t.charlesCertPath=e,m(t)}),[]),g=(0,v.useMemo)((()=>v.createElement("div",null,v.createElement("input",{className:c.hidden,id:"cert-path-button",type:"file",onChange:p}),v.createElement("label",{htmlFor:"cert-path-button"},v.createElement(d.Ay,{title:"Choose Certificate File"},v.createElement(se.A,{component:"span"},v.createElement(De.A,{fontSize:"small",color:"inherit"})))))),[c.hidden,p]);return(0,v.useEffect)((()=>{Object.keys(o).length>0&&(i.updateConfig(o),m({}))}),[o,a,i]),v.createElement(b.A,{container:!0,direction:"column",spacing:3},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"enableCurlLogging",value:"enableCurlLogging",checked:e,onChange:u}),label:"Output curl commands for every API call",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"showCreateIssueProblems",value:"jira.showCreateIssueProblems",checked:r,onChange:u}),label:"Show a link to view non-renderable fields on Jira create issue page",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"enableCharles",value:"enableCharles",checked:t,onChange:u}),label:"Enable Charles Web Debug Proxy",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(q.A,{in:t,timeout:1e3},v.createElement("div",{className:(0,ge.A)(c.box,{[c.hidden]:!t})},v.createElement(b.A,{container:!0,direction:"column",spacing:3},v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"body1"},"When using Charles, you must"," ",v.createElement(ze.A,{href:"https://www.charlesproxy.com/documentation/using-charles/ssl-certificates/"},"save the Charles Root Certificate")," ","and provide the absolute path to it here")),v.createElement(b.A,{item:!0},v.createElement(l.wI,{fullWidth:!0,label:"Charles SSL Certificate Path",defaultValue:a,InputProps:{endAdornment:g},onSave:E})),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"body1"},"You also need to"," ",v.createElement(ze.A,{href:"https://www.charlesproxy.com/documentation/proxying/ssl-proxying/"},"specify the following hosts in Charles")," ","to have SSL proxying enabled for them."),v.createElement(ue.A,null,v.createElement(ne.A,{key:"api.atlassian.com"},v.createElement(ce.A,{primary:"api.atlassian.com"})),v.createElement(me.A,null),v.createElement(ne.A,{key:"auth.atlassian.com"},v.createElement(ce.A,{primary:"auth.atlassian.com"})),v.createElement(me.A,null),v.createElement(ne.A,{key:"api.bitbucket.org"},v.createElement(ce.A,{primary:"api.bitbucket.org"})),v.createElement(me.A,null),v.createElement(ne.A,{key:"bitbucket.org"},v.createElement(ce.A,{primary:"bitbucket.org"})),v.createElement(me.A,null),v.createElement(ne.A,{key:"as.atlassian.com"},v.createElement(ce.A,{primary:"as.atlassian.com"})),v.createElement(me.A,null))),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"charelsDebugOnly",value:"charlesDebugOnly",checked:n,onChange:u}),label:"Only enable Charles when debugging this extension (internal use)",spacing:1,variant:"body1"})))))))})),Ge=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enableCurl:n,enableCharles:l,charlesCertPath:r,charlesDebugOnly:i,showCreateIssueProblems:c})=>{const[o,s]=(0,v.useState)(t),m=(0,v.useCallback)(((e,t)=>{s(t),a(x.IS.Debug,t)}),[a]);return(0,v.useEffect)((()=>{s((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:o,onChange:m},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.General}-${x.IS.Debug}-content`,id:`${x.AQ.General}-${x.IS.Debug}-header`},v.createElement(X.x,null,"Debugging"),v.createElement(Y.n,null,"configure debugging tools")),v.createElement(N.A,null,v.createElement(_e,{enableCurl:n,enableCharles:l,charlesCertPath:r,charlesDebugOnly:i,showCreateIssueProblems:c})))}));var He,Ke=a(83220),Ye=a(84630);!function(e){e.SILENT="silent",e.ERRORS="errors",e.INFO="info",e.DEBUG="debug"}(He||(He={}));const Xe=(0,v.memo)((({showWelcome:e,helpExplorerEnabled:t,outputLevel:a})=>{const n=(0,v.useContext)(G),[r,i]=(0,v.useState)({}),c=(0,v.useCallback)((e=>{const t=Object.create(null);t.showWelcomeOnInstall=e.target.checked,i(t)}),[]),o=(0,v.useCallback)((e=>{const t=Object.create(null);t.helpExplorerEnabled=e.target.checked,i(t)}),[]),s=(0,v.useCallback)((e=>{const t=Object.create(null);t.outputLevel=e.target.value,i(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(r).length>0&&(n.updateConfig(r),i({}))}),[r,n]),v.createElement(b.A,{container:!0,direction:"column",spacing:3},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"showWelcome",checked:e,onChange:c}),label:"Show welcome screen when extension is updated",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"enableExplorer",checked:t,onChange:o}),label:"Enable Help Explorer",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(g.A,{width:200},v.createElement(Ke.A,{select:!0,fullWidth:!0,value:a,name:"outputLevel",id:"outputLevel",onChange:s,label:"Output Level"},v.createElement(Ye.A,{key:He.SILENT,value:He.SILENT},He.SILENT),v.createElement(Ye.A,{key:He.ERRORS,value:He.ERRORS},He.ERRORS),v.createElement(Ye.A,{key:He.INFO,value:He.INFO},He.INFO),v.createElement(Ye.A,{key:He.DEBUG,value:He.DEBUG},He.DEBUG)))))})),Ze=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,showWelcome:n,helpExplorerEnabled:l,outputLevel:r})=>{const[i,c]=(0,v.useState)(t),o=(0,v.useCallback)(((e,t)=>{c(t),a(x.IS.Misc,t)}),[a]);return(0,v.useEffect)((()=>{c((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:i,onChange:o},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.General}-${x.IS.Misc}-content`,id:`${x.AQ.General}-${x.IS.Misc}-header`},v.createElement(X.x,null,"Miscellaneous Settings"),v.createElement(Y.n,null,"configure logging level, welcome screen, etc")),v.createElement(N.A,null,v.createElement(Xe,{showWelcome:n,helpExplorerEnabled:l,outputLevel:r})))})),et=(0,r.A)((e=>({root:{fontSize:e.typography.pxToRem(12),fontStyle:"italic"}}))),GeneralPanel=({visible:e,selectedSubSections:t,onSubsectionChange:a,config:n})=>{const l=et();return v.createElement(v.Fragment,null,v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e||!n["bitbucket.enabled"],role:"tabpanel"},v.createElement(b.A,{container:!0,spacing:3,direction:"column"},v.createElement(b.A,{item:!0},v.createElement(Ze,{visible:e,expanded:t.includes(x.IS.Misc),onSubsectionChange:a,showWelcome:n.showWelcomeOnInstall,helpExplorerEnabled:n.helpExplorerEnabled,outputLevel:n.outputLevel})),v.createElement(b.A,{item:!0},v.createElement(Ve,{visible:e,expanded:t.includes(x.IS.Misc),onSubsectionChange:a,enableHttpsTunnel:n.enableHttpsTunnel,offlineMode:n.offlineMode,onlineCheckerUrls:n.onlineCheckerUrls})),v.createElement(b.A,{item:!0},v.createElement(Ge,{visible:e,expanded:t.includes(x.IS.Misc),onSubsectionChange:a,enableCurl:n.enableCurlLogging,enableCharles:n.enableCharles,charlesCertPath:n.charlesCertPath,charlesDebugOnly:n.charlesDebugOnly,showCreateIssueProblems:n["jira.showCreateIssueProblems"]}),v.createElement(g.A,{marginTop:5},v.createElement(s.A,{variant:"subtitle1",className:l.root},"Note: This extension collects telemetry data, which is used to help understand how to improve the product."),v.createElement(s.A,{variant:"subtitle1",className:l.root},"For example, this usage data helps to debug issues, such as slow start-up times, and to prioritize new features."),v.createElement(s.A,{variant:"subtitle1",className:l.root},"If you don't wish to send usage data to Atlassian, you can set the telemetry.enableTelemetry user setting to false, and restart VS Code."))),v.createElement(b.A,{item:!0})))))};var tt=a(95652),at=a(35505);const StartWorkSettings=({customTemplate:e,customPrefixes:t})=>{const a=(0,v.useContext)(G),n=Ae(),[r,i]=(0,v.useState)({}),[c,o]=(0,v.useState)(e);(0,v.useEffect)((()=>{o(e)}),[e]);const m=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.startWorkBranchTemplate.customPrefixes"]=e,i(t)}),[]),u=(0,v.useCallback)((e=>{o(e);const t=Object.create(null);t["jira.startWorkBranchTemplate.customTemplate"]=e,i(t)}),[]);(0,v.useEffect)((()=>{Object.keys(r).length>0&&(a.updateConfig(r),i({}))}),[r,a]);const d=(0,v.useCallback)((()=>{const e="trevinavery",t="feature/",a="VSCODE-257",n="allow-users-to-configure-the-way-branch-name-is-co",l={username:e.toLowerCase(),UserName:e,USERNAME:e.toUpperCase(),prefix:t.toLowerCase(),Prefix:t,PREFIX:t.toUpperCase(),issuekey:a.toLowerCase(),IssueKey:a,issueKey:a,ISSUEKEY:a.toUpperCase(),summary:n.toLowerCase(),Summary:n,SUMMARY:n.toUpperCase()};try{return`Preview: ${at.A.render(c,l)}`}catch(e){return"Invalid template: please follow the format described above"}}),[c]);return v.createElement(b.A,{container:!0,direction:"column"},v.createElement(b.A,{item:!0},v.createElement(g.A,{margin:2},v.createElement(s.A,{variant:"h4"},"Custom Branch Template"),v.createElement(s.A,{variant:"caption"},"Branch names will be generated based on the template. Use the keywords ",v.createElement("code",null,"username"),","," ",v.createElement("code",null,"prefix"),", ",v.createElement("code",null,"issuekey"),", and ",v.createElement("code",null,"summary")," surrounded by triple curly brackets to build a template. Any of the keywords can be excluded if they are not needed, but do not put a non-keyword in triple curly brackets.",v.createElement("br",null),"E.g. ",v.createElement("code",null,"{{{username}}}/{{{prefix}}}{{{issueKey}}}-{{{summary}}}")," will generate something of the format:"," ",v.createElement("code",null,"trevinavery/feature/VSCODE-1005-allow-users-to-configure-the-way-branch-name-is-co"),v.createElement("br",null),"Note that ",v.createElement("code",null,"prefix")," automatically appends a ",v.createElement("code",null,"/")," character after it.",v.createElement("br",null),v.createElement("br",null),"Upper-case: ",v.createElement("code",null,"USERNAME, PREFIX, ISSUEKEY, SUMMARY"),v.createElement("br",null),"Mixed-case: ",v.createElement("code",null,"UserName, Prefix, IssueKey, Summary"),v.createElement("br",null),"Lower-case: ",v.createElement("code",null,"username, prefix, issuekey, summary")),v.createElement(g.A,{marginTop:1,paddingBottom:2},v.createElement(l.wI,{fullWidth:!0,label:"Custom Template Text",defaultValue:e,onSave:u}),v.createElement(tt.A,{id:"my-helper-text"},d())))),v.createElement(b.A,{item:!0},v.createElement(g.A,{margin:2},v.createElement(s.A,{variant:"h4"},"Custom Prefixes"),v.createElement(s.A,{variant:"caption"},v.createElement(s.A,{variant:"body2"},"For repos with no branching model, custom prefixes can be created here."),v.createElement(s.A,{variant:"body2"},v.createElement("b",null,"Bitbucket Users:")," Prefixes are part of your branching model and can be configured on the"," ",v.createElement(ze.A,{href:"https://bitbucket.org/blog/introducing-bitbucket-branching-model-support"},"Bitbucket Website"))),v.createElement(g.A,{className:n.box,marginTop:1,paddingBottom:2},v.createElement(l.Ig,{options:t,reverseButtons:!0,addOptionButtonContent:"Add Custom Prefix",inputLabel:"Custom Prefix Text",onChange:m,disabled:!1,emptyComponent:v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No prefixes found."))})))))},nt=(0,v.memo)((({visible:e,expanded:t,customPrefixes:a,customTemplate:n,onSubsectionChange:l})=>{const[r,i]=(0,v.useState)(t),c=(0,v.useCallback)(((e,t)=>{i(t),l(x.IS.StartWork,t)}),[l]);return(0,v.useEffect)((()=>{i((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:r,onChange:c},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Jira}-${x.IS.StartWork}-content`,id:`${x.AQ.Jira}-${x.IS.StartWork}-header`},v.createElement(X.x,null,"Start Work"),v.createElement(Y.n,null,"configure the start work screen")),v.createElement(N.A,null,v.createElement(StartWorkSettings,{customPrefixes:a,customTemplate:n})))}));var lt=a(45538),rt=a(32485),it=a(69060),ct=a(32118),ot=a(5696),st=a(68016),mt=a(30240),ut=a(65816),dt=a(83182),pt=a(87860),bt=a(65594),Et=a(90652),gt=a(90648),ht=a(79764),At=a(24896),ft=a(93948),Ct=a(3280),kt=a(7084),St=a(40410),vt=a(86893),yt=a(10476),xt=a(89925),It=a(19877);const wt=[{id:"name",disablePadding:!0,label:"Filter Name",align:"left"},{id:"owner",disablePadding:!1,label:"Owner",align:"left"},{id:"favorite",disablePadding:!1,label:"Favorite",align:"center"}],Rt={filters:[],isLast:!0,maxResults:25,offset:0,total:0},Jt=(0,r.A)((e=>({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(2)},highlight:e=>({color:e.listActiveSelectionForeground,backgroundColor:e.listActiveSelectionBackground}),title:{flex:"1 1 100%"}}))),Lt=(0,r.A)((e=>({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},container:{maxHeight:440}}))),FilterTableToolbar=({numSelected:e,inputText:t,setInputText:a,loading:n})=>{const l=(0,v.useContext)(vt.Q),r=Jt(l);return v.createElement(o.A,{className:(0,ge.A)(r.root,{[r.highlight]:e>0})},e>0?v.createElement(s.A,{className:r.title,color:"inherit",variant:"subtitle1"},e," selected"):v.createElement(s.A,{className:r.title,variant:"h6",id:"tableTitle"},"Jira Filters"),v.createElement(Ke.A,{label:"Search for filters",value:t,onChange:e=>a(e.target.value),fullWidth:!0,variant:"standard",InputProps:{startAdornment:v.createElement(v.Fragment,null,v.createElement(Ct.A,{fontSize:"small"})),endAdornment:v.createElement(v.Fragment,null,n?v.createElement(dt.A,{color:"inherit",size:20}):null)}}))},FilterTableHead=({onSelectAllClick:e,numSelected:t,rowCount:a})=>v.createElement(pt.A,null,v.createElement(bt.A,null,v.createElement(Et.A,{padding:"checkbox"},v.createElement(j.A,{indeterminate:t>0&&t<a,checked:a>0&&t===a,onChange:e,color:"primary"})),wt.map((e=>v.createElement(Et.A,{key:e.id,align:e.align,padding:e.disablePadding?"none":"default"},e.label))))),FilterSearchResultsTable=({site:e,onSelected:t})=>{const a=Lt(),[n,l]=(0,v.useState)([]),[r,i]=v.useState(0),[c,o]=v.useState(0),s=(0,v.useContext)(G),{inputText:m,setInputText:u,filterSearch:d}=((e,t,a=0,n)=>{const[l,r]=(0,v.useState)(""),i=(0,It.A)((()=>(0,yt.A)((async(e,t,a,n,l,r)=>await e(t,a,n,l,r)),300,{leading:!0}))),c=(0,xt.Us)((async r=>i(e,t,l,n,a,r)),[l,t,a,n],{setLoading:e=>({...e,loading:!0})});return{inputText:l,setInputText:r,filterSearch:c}})(s.fetchFilterSearchResults,e,c,25),p=d.result?d.result:Rt;return(0,v.useEffect)((()=>{i(0),o(0)}),[e]),(0,v.useEffect)((()=>{t&&t(n)}),[t,n]),v.createElement("div",{className:a.root},v.createElement(E.A,{className:a.paper},v.createElement(FilterTableToolbar,{numSelected:n.length,inputText:m,setInputText:u,loading:d.loading}),v.createElement(gt.A,{className:a.container},v.createElement(ht.A,{stickyHeader:!0,size:"small"},v.createElement(FilterTableHead,{numSelected:n.length,onSelectAllClick:e=>{if(e.target.checked){const e=[...p.filters];l(e)}else l([])},rowCount:p.filters.length}),v.createElement(At.A,null,p.filters.map(((e,t)=>{const a=(r=e.id,-1!==n.findIndex((e=>e.id===r)));var r;const i=`enhanced-table-checkbox-${t}`,c=e.favorite?v.createElement(kt.A,null):v.createElement(St.A,null);return v.createElement(bt.A,{hover:!0,onClick:t=>((e,t)=>{const a=n.findIndex((e=>e.id===t.id));let r=[];-1===a?r=r.concat(n,t):0===a?r=r.concat(n.slice(1)):a===n.length-1?r=r.concat(n.slice(0,-1)):a>0&&(r=r.concat(n.slice(0,a),n.slice(a+1))),l(r)})(0,e),role:"checkbox","aria-checked":a,tabIndex:-1,key:e.id,selected:a},v.createElement(Et.A,{padding:"checkbox"},v.createElement(j.A,{checked:a,inputProps:{"aria-labelledby":i},color:"primary"})),v.createElement(Et.A,{component:"th",id:i,scope:"row",padding:"none"},e.name),v.createElement(Et.A,null,e.owner),v.createElement(Et.A,{align:"center"},c))}))))),v.createElement(ft.A,{rowsPerPageOptions:[25],component:"div",count:p.total,rowsPerPage:25,page:r,onPageChange:(e,t)=>{i(t),o(25*t)}})))},FilterSearchDialog=({open:e,sites:t,onCancel:a,onSave:n})=>{const[l,r]=(0,v.useState)(Array.isArray(t)&&t.length>0?t[0]:B.Rc),[i,c]=(0,v.useState)([]),o=(0,v.useCallback)((e=>{r(e)}),[]),m=(0,v.useCallback)((e=>{c(e)}),[]),u=(0,v.useCallback)((()=>{const e=i.map((e=>({id:(0,O.A)(),siteId:l.id,filterId:e.id,name:e.name,query:e.jql,enabled:!0,monitor:!0})));n(e)}),[i,n,l]);return(0,v.useEffect)((()=>{t.length>0&&r(t[0])}),[t]),v.createElement(ct.A,{fullWidth:!0,maxWidth:"md",open:e,onClose:a},v.createElement(ot.A,null,v.createElement(s.A,{variant:"h4"},"Filter Search")),v.createElement(st.A,null,v.createElement(mt.A,null,"Import Filters"),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(ae.xp,{name:"site",value:l.id,label:"Select a site",required:!0,sites:t,fullWidth:!0,onSiteChange:o})),v.createElement(b.A,{item:!0},v.createElement(FilterSearchResultsTable,{site:l,onSelected:m})))),v.createElement(ut.A,null,v.createElement(ee.A,{onClick:u,variant:"contained",color:"primary",disabled:i.length<1},"Import Filters"),v.createElement(ee.A,{onClick:a,color:"primary"},"Cancel")),v.createElement(g.A,{marginBottom:3}))};var qt=a(48922),Bt=a(59282),Qt=a(94276),$t=a(17069);const Nt=(0,v.memo)((({id:e,name:t,enabled:a,monitor:n,filterId:l,toggleEnabled:r,toggleMonitor:i,handleEdit:c,handleDelete:o})=>{const m=a?`Disable ${t}`:`Enable ${t}`,u=l?v.createElement(d.Ay,{title:"Filter"},v.createElement(qt.A,{fontSize:"small"})):v.createElement(d.Ay,{title:"JQL"},v.createElement(Bt.A,{fontSize:"small"}));return v.createElement(b.A,{container:!0,direction:"row",spacing:1},v.createElement(b.A,{item:!0},u),v.createElement(b.A,{item:!0},v.createElement(d.Ay,{title:m},v.createElement(T.A,{id:e,color:"primary",checked:a,size:"small",onChange:r}))),v.createElement(b.A,{item:!0},v.createElement(s.A,null,t)),v.createElement(b.A,{item:!0},v.createElement(oe.A,null,!l&&v.createElement(d.Ay,{title:`Edit ${t}`},v.createElement(se.A,{id:e,edge:"end","aria-label":"edit",onClick:c},v.createElement(be.A,{fontSize:"small",color:"inherit"}))),v.createElement(d.Ay,{title:`Delete ${t}`},v.createElement(se.A,{id:e,edge:"end","aria-label":"delete",onClick:o},v.createElement(de.A,{fontSize:"small",color:"inherit"}))),v.createElement(d.Ay,{title:"Inlclude in issue notifications"},v.createElement(T.A,{id:e,color:"primary",checked:n,size:"small",checkedIcon:v.createElement(Qt.A,{fontSize:"small"}),icon:v.createElement($t.A,{fontSize:"small"}),onChange:i})))))}));var Pt=a(14435),Tt=a(57912),jt=a(30934);const Ft=(0,v.memo)((({openJqlDialog:e,openFilterDialog:t})=>{const[a,n]=(0,v.useState)(!1),l=(0,v.useCallback)((()=>{n(!1)}),[n]),r=(0,v.useCallback)((()=>{n(!0)}),[n]),i=(0,v.useCallback)((()=>{e(!0)}),[e]),c=(0,v.useCallback)((()=>{t(!0)}),[t]);return v.createElement(Pt.A,{ariaLabel:"Add issue list",icon:v.createElement(jt.A,null),onClose:l,onOpen:r,open:a,direction:"left"},v.createElement(Tt.A,{key:"addJQL",icon:v.createElement(Bt.A,{fontSize:"small"}),tooltipTitle:"Add JQL",onClick:i}),v.createElement(Tt.A,{key:"addFilter",icon:v.createElement(qt.A,{fontSize:"small"}),tooltipTitle:"Import Filter",onClick:c}))}));var Ot=a(5676);const Wt={visibleFieldNames:[],visibleFunctionNames:[],jqlReservedWords:[]},JQLEditDialog=({open:e,sites:t,jqlEntry:a,onCancel:n,onSave:l})=>{const r=(0,v.useContext)(G),[i,c]=(0,v.useState)(Array.isArray(t)&&t.length>0?t[0]:B.Rc),o=(0,xt.Yb)((async()=>await r.fetchJqlOptions(i)),[i]),{register:m,handleSubmit:u,errors:d,formState:p,control:E}=(0,Ot.mN)({mode:"onChange"}),h=(e=>{const t=(0,v.useContext)(G),a=(0,v.useRef)(),n=(0,It.A)((()=>(0,yt.A)((async(e,a,n)=>await t.validateJql(e,a,n)),300,{leading:!1})));return(0,v.useCallback)((async t=>{a.current&&a.current.abort();const l=new AbortController;a.current=l;try{return await n(e,t,l.signal)}finally{a.current===l&&(a.current=void 0)}}),[n,e])})(i);m("jql",{validate:async e=>{if(e){const t=await h(e);return t.errors.length>0?t.errors.join(","):void 0}}});const A=(0,v.useCallback)((async(e,t,a,n)=>await r.fetchJqlSuggestions(i,e,t,a,n)),[r,i]),f=(0,v.useCallback)((e=>{c(e)}),[]),C=(0,v.useCallback)((e=>{const t=a||{id:(0,O.A)(),siteId:"",name:"",query:"",enabled:!0,monitor:!0},n=Object.assign({},t,{siteId:e.site,name:e.name,query:e.jql||(null===a||void 0===a?void 0:a.query)});l(n)}),[a,l]);return(0,v.useEffect)((()=>{t.length>0&&c(t[0])}),[t]),(0,v.useEffect)((()=>{if(a){const e=t.find((e=>e.id===a.siteId));e&&c(e)}}),[a,t]),v.createElement(ct.A,{fullWidth:!0,maxWidth:"md",open:e,onClose:n},v.createElement(ot.A,null,v.createElement(s.A,{variant:"h4"},"JQL Editor")),v.createElement(st.A,null,v.createElement(mt.A,null,"Configure JQL Entry"),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(Ke.A,{required:!0,id:"name",name:"name",label:"Name",defaultValue:a?a.name:"",helperText:d.name?d.name.message:void 0,fullWidth:!0,error:!!d.name,inputRef:m({required:"Name is required"})})),v.createElement(b.A,{item:!0},v.createElement(Ot.xI,{control:E,name:"site",sites:t,defaultValue:i.id,as:v.createElement(ae.xp,{label:"Select a site",required:!0,error:!!d.site,sites:t,helperText:d.site?d.site.message:"",fullWidth:!0,onSiteChange:f})})),v.createElement(b.A,{item:!0},v.createElement("div",null,v.createElement(Ot.xI,{control:E,name:"jql",as:v.createElement(ae.cR,{defaultValue:a?a.query:"",loading:o.loading,disabled:o.loading,required:!0,id:"jql",name:"jql",label:"Enter JQL",fullWidth:!0,jqlAutocompleteRestData:o.result?o.result:Wt,suggestionFetcher:A,helperText:d.jql?d.jql.message:void 0,error:!!d.jql})}))))),v.createElement(ut.A,null,v.createElement(ee.A,{disabled:!p.isValid,onClick:u(C),variant:"contained",color:"primary"},"Save JQL"),v.createElement(ee.A,{onClick:n,color:"primary"},"Cancel")),v.createElement(g.A,{marginBottom:3}))},Ut=(0,r.A)((e=>({root:{flexGrow:1},paper:{backgroundColor:"dark"===e.palette.type?(0,je.a)(e.palette.background.paper,.05):(0,je.e$)(e.palette.background.paper,.05)}}))),Vt=(0,v.memo)((({sites:e,jqlList:t})=>{const a=Ut(),n=(0,v.useContext)(G),[r,i]=(0,v.useState)(t),[c,o]=(0,v.useState)(!1),[m,u]=(0,v.useState)(void 0),d=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.jqlList"]=e,n.updateConfig(t)}),[n]),p=(0,v.useCallback)((e=>{i((t=>{const a=t.findIndex((t=>t.id===e.id));if(o(!0),a<0)return[...t,e];{const n=[...t];return n[a]=e,n}}))}),[]),h=(0,v.useCallback)((e=>{i((t=>{const a=t.map((e=>e.filterId)),n=e.filter((e=>!a.includes(e.filterId)));return n.length>0?(o(!0),[...t,...n]):t}))}),[]),{openJqlDialog:A,jqlDialog:f}=((e,t)=>{const[a,n]=(0,v.useState)(!1),[l,r]=(0,v.useState)(void 0),i=(0,v.useCallback)(((e,t)=>{r(t),n(e)}),[]),c=(0,v.useCallback)((()=>{r(void 0),n(!1)}),[]),o=(0,v.useCallback)((e=>{t(e),r(void 0),n(!1)}),[t]);return{openJqlDialog:i,jqlDialog:(0,v.useMemo)((()=>v.createElement(JQLEditDialog,{jqlEntry:l,onCancel:c,onSave:o,open:a,sites:e})),[c,o,l,a,e])}})(e,p),{openFilterDialog:C,filterDialog:k}=((e,t)=>{const[a,n]=(0,v.useState)(!1),l=(0,v.useCallback)((e=>{n(e)}),[]),r=(0,v.useCallback)((()=>{n(!1)}),[]),i=(0,v.useCallback)((e=>{t(e),n(!1)}),[t]);return{openFilterDialog:l,filterDialog:(0,v.useMemo)((()=>v.createElement(FilterSearchDialog,{onCancel:r,onSave:i,open:a,sites:e})),[r,i,a,e])}})(e,h),y=(0,v.useCallback)(((e,t)=>{i((a=>(o(!0),((e,t,a)=>{const n=[...e],[l]=n.splice(t,1);return n.splice(a,0,l),n})(a,e,t))))}),[]),x=(0,v.useCallback)((e=>{(0,it.unstable_trace)("enabled button click",performance.now(),(()=>{i((t=>{const a=t.find((t=>t.id===e.target.id));return a?(a.enabled=e.target.checked,o(!0),[...t]):t}))}))}),[]),I=(0,v.useCallback)((e=>{(0,it.unstable_trace)("monitor button click",performance.now(),(()=>{i((t=>{const a=t.find((t=>t.id===e.target.id));return a?(o(!0),a.monitor=e.target.checked,[...t]):t}))}))}),[]),w=(0,v.useCallback)((e=>{i((t=>{const a=t.findIndex((t=>t.id===e.currentTarget.id));return a>=0?(o(!0),t.splice(a,1),[...t]):t}))}),[]),R=(0,v.useCallback)((e=>{u(e.currentTarget.id)}),[]);return(0,v.useEffect)((()=>{if(m){const e=r.findIndex((e=>e.id===m));e>=0&&A(!0,r[e]),u(void 0)}}),[m,r,A]),(0,v.useEffect)((()=>{c&&(d(r),o(!1))}),[c,r,d]),(0,v.useEffect)((()=>{i((e=>S()(e,t)?e:t))}),[t]),v.createElement("div",{className:a.root},v.createElement(b.A,{container:!0,direction:"column",spacing:1},v.createElement(b.A,{item:!0},v.createElement(E.A,{className:a.paper},v.createElement(l.mX,{onReorder:y,dragIcon:v.createElement("span",null,v.createElement(rt.A,{color:"disabled"})),listItems:r.length>0?r.map(((e,t)=>v.createElement(Nt,{key:e.id,id:e.id,name:e.name,enabled:e.enabled,monitor:e.monitor,filterId:e.filterId,toggleEnabled:x,toggleMonitor:I,handleEdit:R,handleDelete:w}))):[v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No entries found."))]}))),v.createElement(b.A,{item:!0},v.createElement(g.A,{marginRight:4},v.createElement(Ft,{openJqlDialog:A,openFilterDialog:C})))),f,k)})),zt=(0,r.A)((e=>({indent:{marginLeft:e.spacing(3)}}))),Dt=(0,v.memo)((({enabled:e,nestSubtasks:t,fetchAllQueryResults:a,monitorEnabled:n,refreshInterval:r,sites:i,jqlList:c})=>{const o=zt(),m=Ae(),u=(0,v.useContext)(G),[p,E]=(0,v.useState)({}),h=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Jira}.${e.target.value}`]=e.target.checked,E(t)}),[]),A=(0,v.useCallback)((e=>{const t=Object.create(null);t[`${x.AQ.Jira}.explorer.refreshInterval`]=e,E(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(p).length>0&&(u.updateConfig(p),E({}))}),[p,u]),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(lt.q,null)),v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,direction:"row",spacing:1},v.createElement(b.A,{item:!0},v.createElement(d.Ay,{title:"Enable Jira Explorer"},v.createElement(T.A,{size:"small",color:"primary",value:"explorer.enabled",checked:e,onChange:h}))),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"body1"},"Enable Jira Explorer")))),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Enable issue grouping"},v.createElement(T.A,{className:o.indent,disabled:!e,color:"primary",size:"small",value:"explorer.nestSubtasks",checked:t,onChange:h})),label:"Group issues by epic",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Fetch all Results"},v.createElement(T.A,{className:o.indent,disabled:!e,color:"primary",size:"small",checked:a,value:"explorer.fetchAllQueryResults",onChange:h})),label:"Fetch all JQL query results (default is 100, enabling this could cause performance issues)",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(d.Ay,{title:"Enable Notifications"},v.createElement(T.A,{className:o.indent,disabled:!e,color:"primary",size:"small",checked:n,value:"explorer.monitorEnabled",onChange:h})),label:"Show notifications when new issues are created matching  the JQLs/Filters below",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,direction:"row",spacing:1,alignItems:"center"},v.createElement(b.A,{item:!0},v.createElement(we,{className:o.indent,interval:r,max:120,label:"Refresh interval:",enabled:e,units:"minutes",onChange:A})),v.createElement(b.A,{item:!0},v.createElement(s.A,{variant:"subtitle2"},"(setting to 0 disables auto-refresh)")))),v.createElement(b.A,{item:!0},v.createElement(g.A,{marginTop:2},v.createElement(s.A,{component:"div",variant:"h4"},v.createElement(g.A,{display:"inline",fontWeight:"fontWeightBold"},"Filters and Custom JQL"),v.createElement(g.A,{display:"inline",marginLeft:3},v.createElement(ze.A,{href:"https://www.atlassian.com/blog/jira-software/jql-the-most-flexible-way-to-search-jira-14"},"What is JQL?"))))),v.createElement(b.A,{item:!0},v.createElement(g.A,{className:m.box,paddingBottom:2},v.createElement(Vt,{sites:i,jqlList:c}))))})),Mt=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n,nestSubtasks:l,fetchAllQueryResults:r,monitorEnabled:i,refreshInterval:c,sites:o,jqlList:s})=>{const[m,u]=(0,v.useState)(t),[d,p]=(0,v.useState)(o),[b,E]=(0,v.useState)(s),g=(0,v.useCallback)(((e,t)=>{u(t),a(x.IS.Issues,t)}),[a]);return(0,v.useEffect)((()=>{p((e=>S()(e,o)?e:o))}),[o]),(0,v.useEffect)((()=>{E((e=>S()(e,s)?e:s))}),[s]),(0,v.useEffect)((()=>{u((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:m,onChange:g},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Jira}-${x.IS.Issues}-content`,id:`${x.AQ.Jira}-${x.IS.Issues}-header`},v.createElement(X.x,null,"Jira Issues Explorer"),v.createElement(Y.n,null,"configure the Jira issue explorer, custom JQL and notifications")),v.createElement(N.A,null,v.createElement(Dt,{sites:d,jqlList:b,enabled:n,nestSubtasks:l,fetchAllQueryResults:r,monitorEnabled:i,refreshInterval:c})))})),_t=(0,v.memo)((({enabled:e})=>{const t=(0,v.useContext)(G),[a,n]=(0,v.useState)({}),r=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.hover.enabled"]=e.target.checked,n(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(a).length>0&&(t.updateConfig(a),n({}))}),[a,t]),v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"jiraHoverEnabled",checked:e,onChange:r}),label:"Show details when hovering over issue keys in the editor",spacing:1,variant:"body1"})})),Gt=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n})=>{const[l,r]=(0,v.useState)(t),i=(0,v.useCallback)(((e,t)=>{r(t),a(x.IS.Hovers,t)}),[a]);return(0,v.useEffect)((()=>{r((e=>e!==t?t:e))}),[t]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:l,onChange:i},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Jira}-${x.IS.Hovers}-content`,id:`${x.AQ.Jira}-${x.IS.Hovers}-header`},v.createElement(X.x,null,"Jira Issue Hovers"),v.createElement(Y.n,null,"configure hovering for Jira issue keys")),v.createElement(N.A,null,v.createElement(_t,{enabled:n})))})),Ht=(0,v.memo)((({triggers:e,disabled:t})=>{const a=(0,v.useContext)(G),[n,r]=(0,v.useState)({}),i=Ae(),c=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.todoIssues.enabled"]=e.target.checked,r(t)}),[]),o=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.todoIssues.triggers"]=e,r(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(n).length>0&&(a.updateConfig(n),r({}))}),[n,a]),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{size:"small",color:"primary",id:"jiraHoverEnabled",checked:!t,onChange:c}),label:"Show code action to 'Create Jira issue' for comment triggers",spacing:1,variant:"body1"})),v.createElement(b.A,{item:!0},v.createElement(g.A,{marginTop:2},v.createElement(s.A,{variant:"h4"},"Comment Triggers"),v.createElement(s.A,{variant:"caption"},"Strings (in comments) that will cause the 'Create Jira issue' code action to show"),v.createElement(g.A,{className:i.box,marginTop:1,paddingBottom:2},v.createElement(l.Ig,{options:e,reverseButtons:!0,addOptionButtonContent:"Add Trigger",disabled:t,inputLabel:"Trigger Text",onChange:o,emptyComponent:v.createElement(g.A,{width:"100%"},v.createElement(s.A,{align:"center"},"No triggers found."))})))))})),Kt=(0,v.memo)((({visible:e,expanded:t,onSubsectionChange:a,enabled:n,triggers:l})=>{const[r,i]=(0,v.useState)(t),[c,o]=(0,v.useState)(l),s=(0,v.useCallback)(((e,t)=>{i(t),a(x.IS.Triggers,t)}),[a]);return(0,v.useEffect)((()=>{i((e=>e!==t?t:e))}),[t]),(0,v.useEffect)((()=>{o((e=>S()(e,l)?e:l))}),[l]),v.createElement(Q.A,{hidden:!e,square:!1,expanded:r,onChange:s},v.createElement($.A,{expandIcon:v.createElement(P.A,null),"aria-controls":`${x.AQ.Jira}-${x.IS.Triggers}-content`,id:`${x.AQ.Jira}-${x.IS.Triggers}-header`},v.createElement(X.x,null,"Create Jira Issue Triggers"),v.createElement(Y.n,null,"configure creation of Jira issues from TODOs and similar")),v.createElement(N.A,null,v.createElement(Ht,{disabled:!n,triggers:c})))})),JiraPanel=({visible:e,selectedSubSections:t,onSubsectionChange:a,config:n,sites:l,isRemote:r})=>{const i=(0,v.useMemo)((()=>l.map((e=>e.site))),[l]);return v.createElement(v.Fragment,null,v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e||n["jira.enabled"]},"Enable Jira features to see settings")),v.createElement(q.A,{in:e},v.createElement("div",{hidden:!e||!n["jira.enabled"],role:"tabpanel"},v.createElement(b.A,{container:!0,spacing:3,direction:"column"},v.createElement(b.A,{item:!0},v.createElement(ke,{visible:e,expanded:t.includes(x.IS.Auth),onSubsectionChange:a,isRemote:r,sites:l,product:B.IH,section:x.AQ.Jira})),v.createElement(b.A,{item:!0},v.createElement(Mt,{visible:e,expanded:t.includes(x.IS.Issues),onSubsectionChange:a,sites:i,jqlList:n[`${x.AQ.Jira}.jqlList`],enabled:n[`${x.AQ.Jira}.explorer.enabled`],nestSubtasks:n[`${x.AQ.Jira}.explorer.nestSubtasks`],fetchAllQueryResults:n[`${x.AQ.Jira}.explorer.fetchAllQueryResults`],monitorEnabled:n[`${x.AQ.Jira}.explorer.monitorEnabled`],refreshInterval:n[`${x.AQ.Jira}.explorer.refreshInterval`]})),v.createElement(b.A,{item:!0},v.createElement(Gt,{visible:e,expanded:t.includes(x.IS.Hovers),onSubsectionChange:a,enabled:n[`${x.AQ.Jira}.hover.enabled`]})),v.createElement(b.A,{item:!0},v.createElement(Kt,{visible:e,expanded:t.includes(x.IS.Triggers),onSubsectionChange:a,enabled:n[`${x.AQ.Jira}.todoIssues.enabled`],triggers:n[`${x.AQ.Jira}.todoIssues.triggers`]})),v.createElement(b.A,{item:!0},v.createElement(nt,{visible:e,expanded:t.includes(x.IS.StartWork),onSubsectionChange:a,customPrefixes:n[`${x.AQ.Jira}.startWorkBranchTemplate.customPrefixes`],customTemplate:n[`${x.AQ.Jira}.startWorkBranchTemplate.customTemplate`]})),v.createElement(b.A,{item:!0},v.createElement(Z,{visible:e,expanded:t.includes(x.IS.Status),onSubsectionChange:a,configSection:x.AQ.Jira,productName:B.IH.name,enabled:n[`${x.AQ.Jira}.statusbar.enabled`],showProduct:n[`${x.AQ.Jira}.statusbar.showProduct`],showUser:n[`${x.AQ.Jira}.statusbar.showUser`],showLogin:n[`${x.AQ.Jira}.statusbar.showLogin`]}))))))},ProductEnabler=({label:e,enabled:t,onToggle:a})=>{const n=(0,v.useCallback)((e=>{e.stopPropagation()}),[]),l=(0,v.useCallback)((e=>{a(e.target.checked)}),[a]);return v.createElement(b.A,{container:!0,justify:"center",alignItems:"center",spacing:1},v.createElement(b.A,{item:!0},v.createElement(d.Ay,{title:t?`Disable ${e} features`:`Enable ${e} features`},v.createElement(T.A,{color:"primary",size:"small",checked:t,onClick:n,onChange:l}))),v.createElement(b.A,{item:!0},v.createElement("span",null,e)))},FeedbackDialogButton=({user:e,postMessageFunc:t})=>{const[a,n]=(0,v.useState)(!1),{register:r,handleSubmit:i,errors:c,watch:o,formState:s,reset:m}=(0,Ot.mN)({mode:"onChange"}),u=o(["canBeContacted"]),d=(0,v.useCallback)((e=>{e.canBeContacted||(e.emailAddress="do-not-reply@atlassian.com"),t({type:W.I.SubmitFeedback,feedback:e}),n(!1),m()}),[t,m]),p=(0,v.useCallback)((()=>{n(!1),m()}),[m]),E=(0,v.useCallback)((()=>{n(!0)}),[]);return v.createElement(v.Fragment,null,v.createElement(ee.A,{variant:"contained",color:"primary",onClick:E},"Send Feedback"),v.createElement(ct.A,{fullWidth:!0,maxWidth:"md",open:a,onClose:p},v.createElement(st.A,null,v.createElement(mt.A,null,"Send Feedback"),v.createElement(b.A,{container:!0,direction:"column",spacing:2},v.createElement(b.A,{item:!0},v.createElement(Ke.A,{name:"type",defaultValue:U.MW.Question,select:!0,required:!0,autoFocus:!0,autoComplete:"off",margin:"dense",id:"type",label:"Type of Feedback",helperText:c.type?c.type.message:void 0,fullWidth:!0,error:!!c.type,inputRef:r},v.createElement(Ye.A,{key:U.MW.Question,value:U.MW.Question},"Ask a question"),v.createElement(Ye.A,{key:U.MW.Comment,value:U.MW.Comment},"Leave a comment"),v.createElement(Ye.A,{key:U.MW.Bug,value:U.MW.Bug},"Report a bug"),v.createElement(Ye.A,{key:U.MW.Suggestion,value:U.MW.Suggestion},"Suggest an improvement"))),v.createElement(b.A,{item:!0},v.createElement(Ke.A,{required:!0,multiline:!0,rows:3,id:"description",name:"description",label:"Description",helperText:c.description?c.description.message:void 0,fullWidth:!0,error:!!c.description,inputRef:r({required:"Description URL is required"})})),v.createElement(b.A,{item:!0},v.createElement(Ke.A,{name:"userName",defaultValue:e.userName,required:!0,autoComplete:"off",margin:"dense",id:"userName",label:"Your name",helperText:c.userName?c.userName.message:void 0,fullWidth:!0,error:!!c.userName,inputRef:r({required:"Your name is required"})})),v.createElement(b.A,{item:!0},v.createElement(l.V_,{control:v.createElement(T.A,{name:"canBeContacted",defaultChecked:!0,size:"small",color:"primary",id:"canBeContacted",value:"canBeContacted",inputRef:r}),label:"Atlassian can contact me about this feedback",variant:"body1",spacing:1})),v.createElement(b.A,{item:!0},u.canBeContacted&&v.createElement(Ke.A,{required:!0,name:"emailAddress",defaultValue:e.emailAddress,autoComplete:"off",margin:"dense",id:"emailAddress",label:"Your contact email",helperText:c.emailAddress?c.emailAddress.message:void 0,fullWidth:!0,error:!!c.emailAddress,inputRef:r({required:"Your contact email is required"})})))),v.createElement(ut.A,null,v.createElement(ee.A,{disabled:!s.isValid,onClick:i(d),variant:"contained",color:"primary"},"Submit"),v.createElement(ee.A,{onClick:p,color:"primary"},"Cancel")),v.createElement(g.A,{marginBottom:2})))},Yt=(0,v.memo)((({feedbackUser:e})=>{const t=(0,v.useContext)(G);return v.createElement(b.A,{container:!0,direction:"column",alignItems:"center"},v.createElement(b.A,{item:!0},v.createElement(b.A,{container:!0,spacing:2,direction:"column",alignItems:"flex-start"},v.createElement(b.A,{item:!0},v.createElement(FeedbackDialogButton,{user:e,postMessageFunc:t.postMessage})),v.createElement(b.A,{item:!0},v.createElement(l.AX,{href:"#",onClick:()=>t.openLink(U.Be.AtlascodeRepo),startIcon:v.createElement(Pe.A,null)},"Source Code")),v.createElement(b.A,{item:!0},v.createElement(l.AX,{href:"#",onClick:()=>t.openLink(U.Be.AtlascodeIssues),startIcon:v.createElement(Pe.A,null)},"Got Issues?")),v.createElement(b.A,{item:!0},v.createElement(l.AX,{href:"#",onClick:()=>t.openLink(U.Be.AtlascodeDocs),startIcon:v.createElement(Pe.A,null)},"User Guide")))))})),Xt=(0,r.A)((e=>({title:{flexGrow:0,marginRight:e.spacing(3),whiteSpace:"nowrap"},targetSelectLabel:{marginLeft:e.spacing(1),marginRight:e.spacing(1),whiteSpace:"nowrap"},grow:{flexGrow:1},paper100:{overflow:"hidden",height:"100%"},paperOverflow:{overflow:"hidden"}}))),Zt={[x.AQ.Jira]:[],[x.AQ.Bitbucket]:[],[x.AQ.General]:[]},config_ConfigPage=()=>{const e=Xt(),[t,a]=function useConfigController(){const[e,t]=(0,v.useReducer)(configReducer,H),a=(0,v.useCallback)((e=>{switch(e.type){case V.e1.Init:t({type:K.Init,data:e});break;case V.e1.SectionChange:t({type:K.SectionChange,data:e});break;case V.e1.Update:t({type:K.ConfigChange,config:e.config,target:e.target});break;case V.e1.SitesUpdate:t({type:K.SitesUpdate,jiraSites:e.jiraSites,bitbucketSites:e.bitbucketSites});break;default:(0,F.z)(e)}}),[]),[l,r]=(0,D.G)(a),i=(0,v.useCallback)(((a,r)=>{t({type:K.LocalChange,changes:a}),l({type:n.SaveSettings,changes:a,removes:r,target:e.target})}),[l,e.target]),c=(0,v.useCallback)((e=>{t({type:K.Loading}),l({type:n.SetTarget,target:e})}),[l]),o=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:W.I.Refresh})}),[l]),s=(0,v.useCallback)((e=>l({type:W.I.ExternalLink,source:U.po.ConfigWebview,linkId:e})),[l]),m=(0,v.useCallback)(((e,a)=>{t({type:K.Loading}),l({type:n.Login,siteInfo:e,authInfo:a})}),[l]),u=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:n.RemoteLogin})}),[l]),d=(0,v.useCallback)((e=>{t({type:K.Loading}),l({type:n.Logout,siteInfo:e})}),[l]),p=(0,v.useCallback)((e=>new Promise(((t,a)=>{(async()=>{try{const a=await r({type:n.JQLOptionsRequest,site:e},V.e1.JQLOptionsResponse,z.QJ);t(a.data)}catch(e){a(e)}})()}))),[r]),b=(0,v.useCallback)(((e,t,a,i,c)=>new Promise(((o,s)=>{(async()=>{try{let s="";c&&(s=(0,O.A)(),c.onabort=()=>{l({type:W.I.Cancel,abortKey:s,reason:"fetchJqlSuggestions cancelled by client"})});const m=await r({type:n.JQLSuggestionsRequest,site:e,fieldName:t,userInput:a,predicateName:i,abortKey:c?s:void 0},V.e1.JQLSuggestionsResponse,z.QJ);o(m.data)}catch(e){s(e)}})()}))),[l,r]),E=(0,v.useCallback)(((e,t,a,i,c)=>new Promise(((o,s)=>{(async()=>{try{let s="";c&&(s=(0,O.A)(),c.onabort=()=>{l({type:W.I.Cancel,abortKey:s,reason:"fetchFilterSearchResults cancelled by client"})});const m=await r({type:n.FilterSearchRequest,site:e,query:t,maxResults:a,startAt:i,abortKey:c?s:void 0},V.e1.FilterSearchResponse,z.QJ);o(m.data)}catch(e){s(e)}})()}))),[l,r]),g=(0,v.useCallback)(((e,t,a)=>new Promise(((i,c)=>{(async()=>{try{let c="";a&&(c=(0,O.A)(),a.onabort=()=>{l({type:W.I.Cancel,abortKey:c,reason:"validateJql cancelled by client"})});const o=await r({type:n.ValidateJqlRequest,site:e,jql:t,abortKey:a?c:void 0},V.e1.ValidateJqlResponse,z.QJ);i(o.data)}catch(e){c(e)}})()}))),[l,r]),h=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:n.CreatePullRequest})}),[l]),A=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:n.ViewPullRequest})}),[l]),f=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:n.CreateJiraIssue})}),[l]),C=(0,v.useCallback)((()=>{t({type:K.Loading}),l({type:n.ViewJiraIssue})}),[l]),k=(0,v.useMemo)((()=>({postMessage:l,updateConfig:i,setConfigTarget:c,refresh:o,openLink:s,login:m,remoteLogin:u,logout:d,fetchJqlSuggestions:b,fetchJqlOptions:p,fetchFilterSearchResults:E,validateJql:g,createJiraIssue:f,createPullRequest:h,viewPullRequest:A,viewJiraIssue:C})),[i,m,u,d,s,l,o,c,p,b,E,g,f,h,A,C]);return[e,k]}(),[r,k]=(0,v.useState)({}),[q,B]=(0,v.useState)(t.target),[Q,$]=(0,v.useState)((()=>t.openSection)),[N,P]=(0,v.useState)((()=>({...Zt,[t.openSection]:t.openSubSections}))),{authDialogController:T,authDialogOpen:j,authDialogProduct:M,authDialogEntry:_}=(0,L.A)(),Y=(0,v.useCallback)(((e,t)=>{$(t)}),[]),X=(0,v.useCallback)(((e,t)=>{P((a=>{const n={...a};if(t)return n[Q]=[...a[Q],e],n;const l=[...a[Q]],r=l.findIndex((t=>t===e));return r>-1?(l.splice(r,1),n[Q]=l,n):a}))}),[Q]),Z=(0,v.useCallback)(((e,t)=>{$(e),P((a=>{const n={...a};return n[e]=[...a[e],t],n}))}),[]),ee=(0,v.useCallback)((e=>{const t=Object.create(null);t["jira.enabled"]=e,k(t)}),[]),te=(0,v.useCallback)((e=>{const t=Object.create(null);t["bitbucket.enabled"]=e,k(t)}),[]),ae=(0,v.useCallback)(((e,t)=>{t&&B(t)}),[]);return(0,v.useEffect)((()=>{Object.keys(r).length>0&&(a.updateConfig(r),k({}))}),[r,a]),(0,v.useEffect)((()=>{a.setConfigTarget(q)}),[q,a]),(0,v.useEffect)((()=>{$((e=>t.openSection!==e?t.openSection:e))}),[t.openSection]),(0,v.useEffect)((()=>{P((e=>S()(t.openSubSections,e)?e:{...Zt,[t.openSection]:t.openSubSections}))}),[t.openSection,t.openSubSections]),v.createElement(G.Provider,{value:a},v.createElement(L.y.Provider,{value:T},v.createElement(I.H,{context:{view:y.id.SettingsPage},postMessageFunc:a.postMessage},v.createElement(i.A,{maxWidth:"xl"},v.createElement(c.A,{position:"relative"},v.createElement(o.A,null,v.createElement(s.A,{variant:"h3",className:e.title},"Atlassian Settings"),v.createElement(m.A,{value:Q,onChange:Y,"aria-label":"simple tabs example",indicatorColor:"primary",variant:"scrollable",scrollButtons:"on"},v.createElement(u.A,{id:"simple-tab-0","aria-controls":"simple-tabpanel-0",value:x.AQ.Jira,label:v.createElement(ProductEnabler,{label:"Jira",enabled:t.config["jira.enabled"],onToggle:ee})}),v.createElement(u.A,{id:"simple-tab-1","aria-controls":"simple-tabpanel-1",value:x.AQ.Bitbucket,label:v.createElement(ProductEnabler,{label:"Bitbucket",enabled:t.config["bitbucket.enabled"],onToggle:te})}),v.createElement(u.A,{id:"simple-tab-2","aria-controls":"simple-tabpanel-2",value:x.AQ.General,label:"General"}),v.createElement(u.A,{id:"simple-tab-3","aria-controls":"simple-tabpanel-3",value:x.AQ.Explore,label:"Explore"})),v.createElement("div",{className:e.grow}),v.createElement(s.A,{variant:"subtitle1",classes:{root:e.targetSelectLabel}},"Save settings to:"," "),v.createElement(C.A,{color:"primary",size:"small",value:q,exclusive:!0,onChange:ae},v.createElement(d.Ay,{title:"User settings"},v.createElement(f.A,{key:1,value:x.U.User,selected:q!==x.U.User,disableRipple:q===x.U.User},v.createElement(p.A,{color:"primary",variant:"dot",invisible:q!==x.U.User},v.createElement(h.A,null)))),v.createElement(d.Ay,{title:"Workspace settings"},v.createElement(f.A,{key:2,value:x.U.Workspace,selected:q!==x.U.Workspace,disableRipple:q===x.U.Workspace},v.createElement(p.A,{color:"primary",variant:"dot",invisible:q!==x.U.Workspace},v.createElement(A.A,null))))),v.createElement(l.sv,{loading:t.isSomethingLoading,onClick:a.refresh}))),v.createElement(b.A,{container:!0,spacing:1},v.createElement(b.A,{item:!0,xs:12,md:9,lg:10,xl:10},v.createElement(E.A,{className:e.paper100},v.createElement(w.n,null),v.createElement(R.O,{postMessageFunc:a.postMessage}),v.createElement(g.A,{margin:2},v.createElement(JiraPanel,{visible:Q===x.AQ.Jira,selectedSubSections:N[x.AQ.Jira],onSubsectionChange:X,config:t.config,sites:t.jiraSites,isRemote:t.isRemote}),v.createElement(BitbucketPanel,{visible:Q===x.AQ.Bitbucket,selectedSubSections:N[x.AQ.Bitbucket],onSubsectionChange:X,config:t.config,sites:t.bitbucketSites,isRemote:t.isRemote}),v.createElement(GeneralPanel,{visible:Q===x.AQ.General,selectedSubSections:N[x.AQ.General],onSubsectionChange:X,config:t.config}),v.createElement(ExplorePanel,{visible:Q===x.AQ.Explore,config:t.config,sectionChanger:Z})))),v.createElement(b.A,{item:!0,xs:12,md:3,lg:2,xl:2},v.createElement(E.A,{className:e.paperOverflow},v.createElement(g.A,{margin:2},v.createElement(Yt,{feedbackUser:t.feedbackUser})))))),v.createElement(J.H,{product:M,doClose:T.close,authEntry:_,open:j,save:a.login,onExited:T.onExited}))))}},45538:(e,t,a)=>{a.d(t,{q:()=>c});var n=a(54392),l=a(18297),r=a(10782),i=a(96540);const c=(0,i.memo)((({className:e})=>i.createElement(n.A,{component:"div",variant:"body1",className:e},i.createElement(l.A,{display:"inline",fontWeight:"fontWeightBold"},"Tip:"," ")," ","You can have issue keys auto-added to your commit messages using"," ",i.createElement(r.A,{href:"https://github.com/atlassian/atlascode/blob/main/scripts/prepare-commit-jira.sh"},"our prepare-commit-msg hook"))))}}]);