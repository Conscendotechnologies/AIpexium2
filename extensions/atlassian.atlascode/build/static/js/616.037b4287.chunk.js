"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[616],{13154:(e,t,a)=>{a.d(t,{A:()=>BitbucketIcon});var r=a(26232),n=a(41728),s=a(96540),l=a(37559);function BitbucketIcon(e){const t=e.color?e.color:"inherit",a=(0,r.A)();let o="currentColor";switch(t.toLowerCase()){case"primary":o=a.palette.primary.main;break;case"secondary":o=a.palette.secondary.main;break;case"action":o=a.palette.action.active;break;case"error":o=a.palette.error.main;break;default:o="currentColor"}const i=(0,l.L)({iconGradientStart:o});return s.createElement(n.A,{...e,viewBox:"0 0 32 32",component:e=>s.createElement("svg",{...e},s.createElement("defs",null,s.createElement("linearGradient",{x1:"100%",x2:"45.339%",y1:"29.23%",y2:"75.038%",id:i},s.createElement("stop",{offset:"0%",stopOpacity:"0.4",stopColor:o}),s.createElement("stop",{offset:"100%",stopColor:o}))),s.createElement("path",{d:"M4.78580435,5 C4.55423538,4.99701333 4.33319771,5.09657765 4.18198458,5.27198488 C4.03077145,5.44739211 3.96486141,5.68068714 4.00193478,5.9092887 L7.32946109,26.1096074 C7.3703589,26.355373 7.49665951,26.578828 7.68612174,26.7406224 C7.87680866,26.9055104 8.11992598,26.9972003 8.37200761,26.9992993 L14.5488998,19.5995707 L13.6827239,19.5995707 L12.3227102,12.3958093 L27.3886833,12.3958093 L28.4469072,5.91712739 C28.4862006,5.68935393 28.4229655,5.45584955 28.2741046,5.27903 C28.1252437,5.10221045 27.9059335,5.00010264 27.6747957,5 L4.78580435,5 Z"}),s.createElement("path",{fill:`url(#${i})`,d:"M27.3886833,12.3958093 L20.0320674,12.3958093 L18.7974728,19.5995707 L13.7023207,19.5995707 L7.68612174,26.7445417 C7.87680866,26.9094297 8.11992598,27.0011197 8.37200761,27.0032187 L24.3394307,27.0032187 C24.727754,27.0082167 25.0611955,26.7281258 25.1233002,26.3447683 L27.3886833,12.3958093 Z"}))})}},46158:(e,t,a)=>{a.d(t,{E:()=>DemoDialog});var r=a(82096),n=a(32118),s=a(5696),l=a(54392),o=a(68016),i=a(18297),c=a(30240),u=a(65816),d=a(96232),m=a(96746),p=a(22488),h=a(96540);const f=(0,r.A)((e=>({dialogGifBox:{maxWidth:"100%",maxHeight:"100%",borderWidth:3,borderStyle:"solid",borderColor:"DeepSkyBlue"}}))),DemoDialog=({modalTitle:e,modalGifLink:t,modalDescription:a,modalVisibility:r,onClose:b,action:S,actionNotAvailable:E})=>{const A=f(),[v,C]=(0,h.useState)(!1),g=(0,h.useCallback)((()=>{b()}),[b]),k=(0,h.useCallback)((()=>{S(),b()}),[S,b]),P=(0,h.useCallback)((()=>{C(!0)}),[]);return h.createElement(n.A,{fullWidth:!0,maxWidth:"md",open:r,onClose:g},h.createElement(s.A,null,h.createElement(l.A,{variant:"h4"},e)),h.createElement(o.A,null,h.createElement(i.A,{hidden:!a},h.createElement(c.A,null,a)),h.createElement(i.A,{hidden:v},h.createElement(p.A,{variant:"rect",width:"100%",height:"400px"})),h.createElement(i.A,{hidden:!v},h.createElement("img",{"aria-label":`Gif showing "${e}" action`,className:A.dialogGifBox,src:t,onLoad:P}))),h.createElement(u.A,null,h.createElement(d.Ay,{title:E?"Not available for this action":"Click to perform this action automatically"},h.createElement("span",null,h.createElement(m.A,{disabled:E,onClick:k,variant:"contained",color:"primary"},"Try it!"))),h.createElement(m.A,{color:"primary",onClick:g},"Close")))}},47933:(e,t,a)=>{a.d(t,{e1:()=>r,fK:()=>u,j$:()=>c});var r,n=a(52404),s=a(6406),l=a(93784),o=a(11245),i=a(96022);!function(e){e.Init="init",e.SectionChange="sectionChange",e.Update="configUpdate",e.SitesUpdate="sitesAvailableUpdate",e.JQLOptionsResponse="jqlOptionsResponse",e.JQLSuggestionsResponse="JQLSuggestionsResponse",e.FilterSearchResponse="filterSearchResponse",e.ValidateJqlResponse="validateJqlResponse"}(r||(r={}));const c={config:(0,n.Bq)(l.i),jiraSites:[],bitbucketSites:[],feedbackUser:o.Ee,isRemote:!1,showTunnelOption:!1,target:i.U.User,section:i.AQ.Jira},u={site:s.Rc,auth:s.M}},57756:(e,t,a)=>{a.d(t,{A:()=>useAuthDialog,y:()=>s});var r=a(96540),n=a(6406);const s=(0,r.createContext)({openDialog:(e,t)=>{},close:()=>{},onExited:()=>{}}),useAuthDialog=()=>{const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(void 0),[l,o]=(0,r.useState)(n.IH),i=(0,r.useCallback)(((e,a)=>{s(a),o(e),t(!0)}),[]),c=(0,r.useCallback)((()=>{t(!1)}),[]),u=(0,r.useCallback)((()=>{s(void 0)}),[]);return{authDialogController:(0,r.useMemo)((()=>({close:c,openDialog:i,onExited:u})),[c,i,u]),authDialogProduct:l,authDialogOpen:e,authDialogEntry:a}}},75045:(e,t,a)=>{a.d(t,{H:()=>W});var r=a(32118),n=a(5696),s=a(54392),l=a(68016),o=a(30240),i=a(27606),c=a(83220),u=a(65816),d=a(96746),m=a(18297),p=a(96540),h=a(6406),f=a(47933),b=a(10476),S=a(29252),E=a.n(S),A=a(19877);const getFieldValue=e=>{if((t=e.inputRef)&&"file"===t.type)return e.inputRef.files;var t;if((e=>!!e&&"radio"===e.type)(e.inputRef)){const t=Array.isArray(e.options)?e.options.filter((e=>e.checked)):[];return t.length>0?t[0].value:""}if((e=>!!e&&"checkbox"===e.type)(e.inputRef)){const t=Array.isArray(e.options)?e.options.filter((e=>e.checked)):[];return t.length>1?t.map((e=>e.value)):t.length>0&&t[0].checked}return e.inputRef.value};const v=/^((https?):)?\/\/.+$/i;function validateStartsWithProtocol(e,t){return void 0!==t&&v.test(t)?void 0:`${e} must be a valid URL`}function validateRequiredString(e,t){return void 0!==t&&t.trim().length>0?void 0:`${e} is required`}var C=a(3596),g=a(64794),k=a(74139),P=a(67264),y=a(42460),x=a(19904),w=a(94422),L=a(82788),R=a(16923);function TabPanel(e){const{children:t,value:a,index:r,...n}=e;return p.createElement("div",{role:"tabpanel",hidden:a!==r,id:`full-width-tabpanel-${r}`,"aria-labelledby":`full-width-tab-${r}`,...n},a===r&&p.createElement(m.A,{p:3},t))}const CustomSiteAuthForm=({defaultSiteWithAuth:e,defaultContextPathEnabled:t,defaultSSLEnabled:a,watches:r,register:n,errors:s,registerRequiredString:l,authFormState:o,updateState:u,preventClickDefault:d,defaultSSLType:h})=>{const[f,b]=(0,p.useState)(0);return p.createElement(p.Fragment,null,p.createElement(i.A,{item:!0},p.createElement(C.V_,{control:p.createElement(g.A,{name:"contextPathEnabled",defaultChecked:t,size:"small",color:"primary",id:"contextPathEnabled",inputRef:n}),spacing:1,variant:"body1",label:"Use context path"})),r.contextPathEnabled&&p.createElement(m.A,{marginLeft:3},p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,autoFocus:!0,margin:"dense",id:"contextPath",name:"contextPath",label:"Context path",defaultValue:e.site.contextPath,helperText:s.contextPath?s.contextPath:"The context path your server is mounted at (e.g. /issues or /jira)",fullWidth:!0,error:!!s.contextPath,inputRef:l}))),p.createElement(k.A,{value:f,onChange:(e,t)=>{b(t)}},p.createElement(P.A,{label:"Username and Password"}),p.createElement(P.A,{label:"Personal Access Token"})),p.createElement(TabPanel,{value:f,index:0},p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"username",name:"username",label:"Username",defaultValue:e.auth.username,helperText:s.username?s.username:void 0,fullWidth:!0,error:!!s.username,inputRef:l})),p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"password",name:"password",label:"Password",defaultValue:e.auth.password,type:o.showPassword?"text":"password",helperText:s.password?s.password:void 0,fullWidth:!0,error:!!s.password,inputRef:l,InputProps:{endAdornment:p.createElement(y.A,{onClick:()=>u({...o,showPassword:!o.showPassword}),onMouseDown:d},o.showPassword?p.createElement(L.A,{fontSize:"small"}):p.createElement(R.A,{fontSize:"small"}))}}))),p.createElement(TabPanel,{value:f,index:1},p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,type:"password",margin:"dense",id:"personalAccessToken",name:"personalAccessToken",label:"Personal Access Token",defaultValue:"",helperText:s.personalAccessToken?s.personalAccessToken:void 0,fullWidth:!0,error:!!s.personalAccessToken,inputRef:l}))),p.createElement(i.A,{item:!0},p.createElement(C.V_,{control:p.createElement(g.A,{defaultChecked:a,name:"customSSLEnabled",size:"small",color:"primary",id:"customSSLEnabled",value:"customSSLEnabled",inputRef:n}),spacing:1,variant:"body1",label:"Use Custom SSL Settings"})),r.customSSLEnabled&&p.createElement(m.A,{marginLeft:3},p.createElement(i.A,{item:!0},p.createElement(x.A,{id:"customSSLType",name:"customSSLType",defaultValue:h},p.createElement(C.V_,{control:p.createElement(w.A,{inputRef:n,size:"small",color:"primary",value:"customServerSSL"}),spacing:1,label:"Use custom CA certificate(s) (e.g. a self-signed cert)",variant:"body1"}),p.createElement(C.V_,{control:p.createElement(w.A,{inputRef:n,value:"customClientSSL",color:"primary",size:"small"}),spacing:1,label:"Use custom client-side certificates (CA certificates bundled in PKCS#12 (pfx)",variant:"body1"})))),r.customSSLEnabled&&"customServerSSL"===r.customSSLType&&p.createElement(m.A,{marginLeft:3},p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"sslCertPaths",name:"sslCertPaths",label:"sslCertPaths",defaultValue:e.site.customSSLCertPaths,helperText:s.sslCertPaths?s.sslCertPaths:"The full absolute path to your custom certificates separated by commas",fullWidth:!0,error:!!s.sslCertPaths,inputRef:l}))),r.customSSLEnabled&&"customClientSSL"===r.customSSLType&&p.createElement(m.A,{marginLeft:3},p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"pfxPath",name:"pfxPath",label:"pfxPath",defaultValue:e.site.pfxPath,helperText:s.pfxPath?s.pfxPath:"The full absolute path to your custom pfx file",fullWidth:!0,error:!!s.pfxPath,inputRef:l})),p.createElement(i.A,{item:!0},p.createElement(c.A,{margin:"dense",id:"pfxPassphrase",name:"pfxPassphrase",label:"PFX passphrase",type:o.showPFXPassphrase?"text":"password",helperText:"The passphrase used to decrypt the pfx file (if required)",fullWidth:!0,defaultValue:e.site.pfxPassphrase,inputRef:n,InputProps:{endAdornment:p.createElement(y.A,{onClick:()=>u({...o,showPFXPassphrase:!o.showPFXPassphrase}),onMouseDown:d},o.showPFXPassphrase?p.createElement(L.A,{fontSize:"small"}):p.createElement(R.A,{fontSize:"small"}))}}))))};var T=a(10782);const JiraBasicAuthForm=({defaultSiteWithAuth:e,errors:t,registerRequiredString:a,authFormState:r,updateState:n,preventClickDefault:l})=>p.createElement(p.Fragment,null,p.createElement(i.A,{item:!0},p.createElement(s.A,{variant:"body1"},p.createElement(m.A,{fontWeight:"fontWeightBold"},"This looks like a Jira Cloud site \u2601"),p.createElement(m.A,{fontSize:"small"},"You can use an"," ",p.createElement(T.A,{href:"https://id.atlassian.com/manage-profile/security/api-tokens"},"API Token")," to connect to this site. Read more about Atlassian API tokens"," ",p.createElement(T.A,{href:"https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/"},"here"),"."))),p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"username",name:"username",label:"Username",defaultValue:e.auth.username,helperText:t.username?t.username:void 0,fullWidth:!0,error:!!t.username,inputRef:a})),p.createElement(i.A,{item:!0},p.createElement(c.A,{required:!0,margin:"dense",id:"password",name:"password",label:"Password (API token)",defaultValue:e.auth.password,type:r.showPassword?"text":"password",helperText:t.password?t.password:void 0,fullWidth:!0,error:!!t.password,inputRef:a,InputProps:{endAdornment:p.createElement(y.A,{onClick:()=>n({...r,showPassword:!r.showPassword}),onMouseDown:l},r.showPassword?p.createElement(L.A,{fontSize:"small"}):p.createElement(R.A,{fontSize:"small"}))}}))),U={showPassword:!1,showPFXPassphrase:!1},W=(0,p.memo)((({open:e,doClose:t,onExited:a,save:S,product:v,authEntry:C})=>{const[g,k]=(0,p.useState)(U),P=C||f.fK,y=void 0!==P.site.pfxPath&&""!==P.site.pfxPath?"customClientSSL":"customServerSSL",x=void 0!==P.site.contextPath&&""!==P.site.contextPath,w=void 0!==P.site.customSSLCertPaths&&""!==P.site.customSSLCertPaths,{register:L,watches:R,handleSubmit:T,errors:W,isValid:F}=function useFormValidation(e){const t=(0,A.A)((()=>({}))),a=(0,p.useRef)(e||{}),r=(0,p.useRef)(e||{}),n=(0,p.useRef)({}),[,s]=(0,p.useState)(!1),l=(0,A.A)((()=>async e=>{const a=t[e.target.name];let l=!1;if(a&&(Object.keys(r.current).includes(a.inputRef.name)&&(l=!0,"boolean"===typeof r.current[a.inputRef.name]?r.current={...r.current,[a.inputRef.name]:a.inputRef.checked}:r.current={...r.current,[a.inputRef.name]:getFieldValue(a)}),a.validator)){const e=await a.validator(a.inputRef.name,a.inputRef.value);n.current[a.inputRef.name]!==e&&(l=!0,e?n.current={...n.current,[a.inputRef.name]:e}:delete n.current[a.inputRef.name])}l&&s((e=>!e))})),o=(0,p.useCallback)((e=>async a=>{a&&(a.preventDefault(),a.persist());const r={};try{for(const e of Object.values(t))e&&(r[e.inputRef.name]=getFieldValue(e));await e(r)}finally{s((e=>!e))}}),[t]);(0,p.useEffect)((()=>{e&&!E()(e,a.current)&&(a.current=e,r.current=e,n.current={},s((e=>!e)))}),[e]);const i=(0,p.useCallback)(((e,a)=>{if(e){if(!e.name)return console.warn("ref is missing name @ when trying to register form validation",e);const n=!!(r=e)&&("checkbox"===r.type||"radio"===r.type);if(a?(e.addEventListener("input",(0,b.A)(l,300,{key:(e,t)=>e})),e.addEventListener("blur",(0,b.A)(l,10,{key:(e,t)=>e}))):e.addEventListener("input",l),void 0!==t[e.name]&&n){const a=t[e.name];if(!a.options.find((t=>t.value===e.value)))return void a.options.push(e)}t[e.name]=n?{inputRef:e,error:void 0,touched:!1,validator:a,options:[e]}:{inputRef:e,error:void 0,touched:!1,validator:a,options:[]}}var r}),[t,l]);return{register:(0,p.useCallback)((function register(e){return e?"function"===typeof e?t=>t&&i(t,e):i(e):i}),[]),watches:r.current,errors:n.current,handleSubmit:o,isValid:Object.values(n.current).length<1}}({baseUrl:P.site.baseLinkUrl,contextPathEnabled:x,customSSLEnabled:w,customSSLType:y}),q=v.key===h.IH.key?"You can enter a cloud or server url like https://jiracloud.atlassian.net or https://jira.mydomain.com":"You can enter a cloud or server url like https://bitbucket.org or https://bitbucket.mydomain.com",V=function selectAuthFormType(e,t,a){if(!t.baseUrl||a.baseUrl)return I.None;if(e.key===h.IH.key&&!isCustomUrl(t.baseUrl))return I.JiraCloud;if(t.baseUrl&&!a.baseUrl&&isCustomUrl(t.baseUrl))return I.CustomSite;return I.None}(v,R,W),D=(0,p.useCallback)((e=>{const a=e.customSSLEnabled&&"customServerSSL"===e.customSSLType?e.sslCertPaths:void 0,r=e.customSSLEnabled&&"customClientSSL"===e.customSSLType?e.pfxPath:void 0,n=e.customSSLEnabled&&"customClientSSL"===e.customSSLType?e.pfxPassphrase:void 0,s=e.contextPathEnabled?normalizeContextPath(e.contextPath):void 0,l=new URL(e.baseUrl),o={host:l.host,protocol:l.protocol,product:v,customSSLCertPaths:a,pfxPath:r,pfxPassphrase:n,contextPath:s};switch(V){case I.JiraCloud:const t={username:e.username,password:e.password,user:h.J8,state:h.sR.Valid};S(o,t);break;case I.CustomSite:if(e.personalAccessToken){const t={token:e.personalAccessToken,user:h.J8,state:h.sR.Valid};S(o,t)}else{const t={username:e.username,password:e.password,user:h.J8,state:h.sR.Valid};S(o,t)}break;default:e.baseUrl&&!isCustomUrl(e.baseUrl)&&S(o,h.MB)}k(U),t()}),[t,v,S,V]),j=(0,p.useCallback)((e=>e.preventDefault()),[]),J=(0,p.useCallback)(L(validateStartsWithProtocol),[]),B=(0,p.useCallback)(L(validateRequiredString),[]);return p.createElement(r.A,{fullWidth:!0,maxWidth:"md",open:e,onExited:a},p.createElement(n.A,null,p.createElement(s.A,{variant:"h4"},"Authenticate")),p.createElement(l.A,null,p.createElement(o.A,null,`Add ${v.name} Site`),p.createElement(i.A,{container:!0,direction:"column",spacing:2},p.createElement(i.A,{item:!0},p.createElement(c.A,{name:"baseUrl",defaultValue:P.site.baseLinkUrl,required:!0,autoFocus:!0,autoComplete:"off",margin:"dense",id:"baseUrl",label:"Base URL",helperText:W.baseUrl?W.baseUrl:q,fullWidth:!0,inputRef:J,error:!!W.baseUrl})),V===I.JiraCloud&&p.createElement(JiraBasicAuthForm,{defaultSiteWithAuth:P,authFormState:g,updateState:k,errors:W,registerRequiredString:B,preventClickDefault:j}),V===I.CustomSite&&p.createElement(CustomSiteAuthForm,{defaultSiteWithAuth:P,defaultContextPathEnabled:x,defaultSSLEnabled:w,watches:R,register:L,errors:W,registerRequiredString:B,authFormState:g,updateState:k,preventClickDefault:j,defaultSSLType:y}))),p.createElement(u.A,null,p.createElement(d.A,{disabled:!F&&V!==I.None,onClick:T(D),variant:"contained",color:"primary"},"Save Site"),p.createElement(d.A,{onClick:t,color:"primary"},"Cancel")),p.createElement(m.A,{marginBottom:2}))}));var I;!function(e){e.JiraCloud="jiraCloud",e.CustomSite="customSite",e.None="none"}(I||(I={}));const F=["atlassian.net","jira.com","jira-dev.com","bitbucket.org","bb-inf.net"];function isCustomUrl(e){try{const t=new URL(e);return F.every((e=>!t.hostname.endsWith(e)))}catch(e){return!1}}const normalizeContextPath=e=>{if(e&&""!==e.trim()&&"/"!==e.trim())return("/"+e).replace(/\/+/g,"/").replace(/\/+$/g,"")}},93784:(e,t,a)=>{var r;a.d(t,{i:()=>l}),function(e){e.Silent="silent",e.Errors="errors",e.Info="info",e.Debug="debug"}(r||(r={}));const n={enabled:!0,lastCreateSiteAndProject:{siteId:"",projectKey:""},explorer:{enabled:!0,monitorEnabled:!0,refreshInterval:5,nestSubtasks:!0,fetchAllQueryResults:!1},issueMonitor:{refreshInterval:5},statusbar:{enabled:!0,showProduct:!0,showUser:!0,showLogin:!0,showActiveIssue:!0},hover:{enabled:!0},jqlList:[],todoIssues:{enabled:!0,triggers:[]},startWorkBranchTemplate:{customPrefixes:[],customTemplate:"{{prefix}}/{{issueKey}}-{{summary}}"},showCreateIssueProblems:!1},s={enabled:!0,explorer:{enabled:!0,nestFilesEnabled:!0,refreshInterval:5,relatedJiraIssues:{enabled:!0},relatedBitbucketIssues:{enabled:!0},notifications:{refreshInterval:10,pullRequestCreated:!0}},statusbar:{enabled:!0,showProduct:!0,showUser:!0,showLogin:!0},contextMenus:{enabled:!0},pipelines:{explorerEnabled:!0,monitorEnabled:!0,refreshInterval:5,hideEmpty:!0,hideFiltered:!1,branchFilters:[]},issues:{explorerEnabled:!0,monitorEnabled:!0,refreshInterval:15,createJiraEnabled:!1},preferredRemotes:["upstream","origin"],showTerminalLinkPanel:!0},l={outputLevel:r.Silent,enableCharles:!1,charlesCertPath:"",charlesDebugOnly:!1,offlineMode:!1,showWelcomeOnInstall:!0,jira:n,bitbucket:s,enableUIWS:!1,enableCurlLogging:!1,enableHttpsTunnel:!1,onlineCheckerUrls:[],helpExplorerEnabled:!0}},96022:(e,t,a)=>{var r,n,s;a.d(t,{AQ:()=>n,IS:()=>s,U:()=>r}),function(e){e.User="user",e.Workspace="workspace",e.WorkspaceFolder="workspacefolder"}(r||(r={})),function(e){e.Jira="jira",e.Bitbucket="bitbucket",e.General="general",e.Explore="explore"}(n||(n={})),function(e){e.Auth="auth",e.Issues="issues",e.Hovers="hovers",e.Triggers="triggers",e.Status="status",e.PR="pullRequests",e.Pipelines="pipelines",e.ContextMenus="contextMenus",e.PreferredRemotes="preferredRemotes",e.Misc="misc",e.Connectivity="connect",e.Debug="debug",e.JiraFeatures="jiraFeatures",e.BitbucketFeatures="bitbucketFeatures",e.StartWork="startWork"}(s||(s={}))}}]);