"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[679],{6406:(e,t,a)=>{var r;a.d(t,{Bg:()=>s,IH:()=>n,J8:()=>i,M:()=>m,MB:()=>u,Rc:()=>c,sR:()=>l}),function(e){e.Update="update",e.Remove="remove"}(r||(r={}));const n={name:"Jira",key:"jira"},s={name:"Bitbucket",key:"bitbucket"};var o,l;!function(e){e.BitbucketCloud="bbcloud",e.BitbucketCloudStaging="bbcloudstaging",e.JiraCloud="jiracloud",e.JiraCloudStaging="jiracloudstaging",e.JiraCloudRemote="jiracloudremote"}(o||(o={})),function(e){e[e.Valid=0]="Valid",e[e.Invalid=1]="Invalid"}(l||(l={}));const i={id:"",displayName:"",email:"",avatarUrl:""},c={id:"",name:"",avatarUrl:"",host:"",baseLinkUrl:"",baseApiUrl:"",product:{name:"",key:""},isCloud:!0,userId:"",credentialId:""},u={user:i,state:l.Valid},m={user:i,username:"",password:"",state:l.Valid}},9603:(e,t,a)=>{a.d(t,{n:()=>ErrorDisplay});var r=a(61633),n=a(82096),s=a(69440),o=a(42460),l=a(82290),i=a(73546),c=a(13118),u=a(44866),m=a(96540),d=a(25279),p=a(94211);const E=(0,n.A)((e=>({indent:{marginLeft:e.spacing(3)}}))),ErrorDisplay=({})=>{const e=E(),t=(0,m.useContext)(p.Jg),a=(0,m.useContext)(p.Er),[n,g]=(0,m.useState)(t.isErrorBannerOpen);(0,m.useEffect)((()=>{g((e=>e!==t.isErrorBannerOpen?t.isErrorBannerOpen:e))}),[t.isErrorBannerOpen]);const b=[];(0,r.HT)(t.errorDetails)?(Object.keys(t.errorDetails.errors).forEach((a=>{b.push(m.createElement("p",{key:a},m.createElement("b",null,a,":"),m.createElement("span",{className:e.indent},t.errorDetails.errors[a])))})),t.errorDetails.errorMessages.forEach((t=>{b.push(m.createElement("p",{key:(0,d.A)()},m.createElement("span",{className:e.indent},t)))}))):(0,r.Jc)(t.errorDetails)?t.errorDetails.errorMessages.forEach((t=>{b.push(m.createElement("p",{key:(0,d.A)()},m.createElement("span",{className:e.indent},t)))})):"object"===typeof t.errorDetails?Object.keys(t.errorDetails).forEach((a=>{b.push(m.createElement("p",{key:a},m.createElement("b",null,a,":"),m.createElement("span",{className:e.indent},JSON.stringify(t.errorDetails[a]))))})):b.push(m.createElement("p",{key:(0,d.A)()},t.errorDetails));const v=(0,m.useCallback)((()=>{a.dismissError(),g(!1)}),[a]),A=(0,m.useCallback)((()=>{g(!1)}),[]),k=t.errorDetails&&t.errorDetails.title?t.errorDetails.title:"Something went wrong";return m.createElement(m.Fragment,null,m.createElement(s.A,{in:t.isErrorBannerOpen},m.createElement(c.A,{variant:"standard",severity:"error",action:m.createElement(o.A,{"aria-label":"close",color:"inherit",size:"small",onClick:v},m.createElement(i.A,{fontSize:"inherit"}))},m.createElement(u.A,null,k),b)),m.createElement(l.A,{open:n,autoHideDuration:6e3,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"left"}},m.createElement(c.A,{variant:"standard",severity:"error",action:m.createElement(o.A,{"aria-label":"close",color:"inherit",size:"small",onClick:A},m.createElement(i.A,{fontSize:"inherit"}))},m.createElement(u.A,null,k),m.createElement("p",null,"See details at the top of this page"))))}},11245:(e,t,a)=>{var r,n,s;a.d(t,{Be:()=>s,Ee:()=>o,Iq:()=>l,MW:()=>r,po:()=>n}),function(e){e.Bug="bug",e.Comment="comment",e.Suggestion="suggestion",e.Question="question",e.Empty=""}(r||(r={})),function(e){e.BitbucketIssueWebview="bitbucketIssueScreen",e.CreateBitbucketIssueWebview="createBitbucketIssueScreen",e.ConfigWebview="atlascodeSettings",e.OnboardingWebview="atlascodeOnboardingScreen",e.WelcomeWebview="atlascodeWelcomeScreen",e.StartWork="startWorkOnIssueScreen",e.PullRequestDetailsWebview="pullRequestDetailsScreen",e.CreatePullRequest="createPullRequestScreen",e.CreateJiraIssueWebview="atlascodeCreateIssueScreen"}(n||(n={})),function(e){e.AtlascodeRepo="atlascodeRepoLink",e.AtlascodeIssues="atlascodeIssuesLink",e.AtlascodeDocs="atlascodeDocsLink",e.Integrations="integrationsLink",e.GettingStarted="gettingStartedLink",e.ReportAnIssue="reportAnIssueLink",e.WhatIsJQL="whatIsJQLLink",e.Contribute="contributeLink"}(s||(s={}));new Map([[s.AtlascodeRepo,"https://github.com/atlassian/atlascode"],[s.AtlascodeIssues,"https://github.com/atlassian/atlascode/issues"],[s.AtlascodeDocs,"https://confluence.atlassian.com/display/BITBUCKET/Atlassian+for+VS+Code"],[s.Integrations,"https://integrations.atlassian.com"],[s.GettingStarted,"https://confluence.atlassian.com/bitbucket/getting-started-with-vs-code-969520759.html"],[s.ReportAnIssue,"https://github.com/atlassian/atlascode/issues"],[s.WhatIsJQL,"https://www.atlassian.com/blog/jira-software/jql-the-most-flexible-way-to-search-jira-14"],[s.Contribute,"https://github.com/atlassian/atlascode"]]);const o={userName:"",emailAddress:""};var l;!function(e){e.VERY="Very disappointed",e.SOMEWHAT="Somewhat disappointed",e.NOT="Not disappointed"}(l||(l={}))},27030:(e,t,a)=>{var r;a.d(t,{QJ:()=>n}),function(e){e[e.SECONDS=1e3]="SECONDS",e[e.MINUTES=6e4]="MINUTES",e[e.HOURS=36e5]="HOURS",e[e.DAYS=864e5]="DAYS",e[e.WEEKS=6048e5]="WEEKS",e[e.MONTHS=2592e6]="MONTHS",e[e.FOREVER=1/0]="FOREVER"}(r||(r={}));const n=30*r.SECONDS;r.SECONDS},27184:(e,t,a)=>{a.d(t,{G:()=>useMessagingApi});var r,n=a(96540);!function(e){e.Error="error",e.PMFStatus="pmfStatus",e.UpdateFeatureFlags="updateFeatureFlags",e.UpdateExperimentValues="updateExperimentValues"}(r||(r={}));var s=a(94211),o=a(59478);function useMessagingApi(e){const t=(0,n.useMemo)(acquireVsCodeApi,[acquireVsCodeApi]),a=(0,n.useCallback)((e=>{t.postMessage(e)}),[t]),l=(0,n.useCallback)(((e,a,n,s)=>(t.postMessage(e),new Promise(((e,t)=>{const o=setTimeout((()=>{window.removeEventListener("message",promiseListener),clearTimeout(o),t(`timeout waiting for event ${a}`)}),n),promiseListener=n=>{!n.data.type||!a||n.data.type!==a||s&&n.data.nonce!==s||(clearTimeout(o),window.removeEventListener("message",promiseListener),e(n.data)),n.data.type===r.Error&&s&&n.data.nonce===s&&(window.removeEventListener("message",promiseListener),clearTimeout(o),t(n.data.reason))};window.addEventListener("message",promiseListener)})))),[t]),i=(0,n.useContext)(s.Er),c=(0,n.useContext)(o.j8),u=(0,n.useCallback)((t=>{const a=t.data;if(a&&a.type)switch(a.type){case r.Error:i.showError(a.reason);break;case r.PMFStatus:a.showPMF&&c.showPMFBanner();break;default:e(a)}}),[i,c,e]);return(0,n.useEffect)((()=>(window.addEventListener("message",u),t.postMessage({type:"refresh"}),()=>{window.removeEventListener("message",u)})),[e,u,t]),[a,l]}},56872:(e,t,a)=>{a.d(t,{O:()=>PMFDisplay});var r=a(69440),n=a(18297),s=a(27606),o=a(96746),l=a(13118),i=a(44866),c=a(96540),u=a(59478),m=a(32118),d=a(5696),p=a(54392),E=a(68016),g=a(69312),b=a(96340),v=a(19904),A=a(15776),k=a(94422),h=a(95652),f=a(83220),S=a(65816),C=a(5676),w=a(11245);const PMFDialog=({open:e,onCancel:t,onSave:a})=>{const{register:r,handleSubmit:l,errors:i,formState:u,triggerValidation:y,control:I,reset:M}=(0,C.mN)({mode:"onChange"}),O=(0,c.useCallback)((e=>{a(e)}),[a]),R=(0,c.useCallback)((()=>{M(),t()}),[t,M]),W=(0,c.useCallback)((()=>{y("level")}),[y]);return c.createElement(m.A,{fullWidth:!0,maxWidth:"md",open:e,onClose:t},c.createElement(d.A,null,c.createElement(p.A,{variant:"h4"},"Tell us about your experience")),c.createElement(E.A,null,c.createElement(s.A,{container:!0,direction:"column",spacing:2},c.createElement(s.A,{item:!0},c.createElement(C.xI,{as:c.createElement(g.A,{component:"fieldset",onBlur:W},c.createElement(b.A,{component:"legend",required:!0,error:void 0!==i.level},"How disappointed would you feel if you could no longer use Atlassian for VS Code extension?"),c.createElement(v.A,{"aria-label":"level",name:"level"},c.createElement(A.A,{value:w.Iq.VERY,control:c.createElement(k.A,{autoFocus:!0,color:"primary"}),label:w.Iq.VERY}),c.createElement(A.A,{value:w.Iq.SOMEWHAT,control:c.createElement(k.A,{color:"primary"}),label:w.Iq.SOMEWHAT}),c.createElement(A.A,{value:w.Iq.NOT,control:c.createElement(k.A,{color:"primary"}),label:w.Iq.NOT})),c.createElement(h.A,{error:void 0!==i.level},i.level?i.level.message:"")),rules:{required:"Level is required"},name:"level",control:I})),c.createElement(s.A,{item:!0},c.createElement(f.A,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"improvements",name:"improvements",label:"How can we improve this extension for you?",fullWidth:!0,inputRef:r})),c.createElement(s.A,{item:!0},c.createElement(f.A,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"alternative",name:"alternative",label:"What would you use as an alternative if this extension were no longer available?",fullWidth:!0,inputRef:r})),c.createElement(s.A,{item:!0},c.createElement(f.A,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"benefits",name:"benefits",label:"What are the main benefits you receive from this extension?",fullWidth:!0,inputRef:r})))),c.createElement(S.A,null,c.createElement(o.A,{disabled:!u.isValid,onClick:l(O),variant:"contained",color:"primary"},"Submit"),c.createElement(o.A,{onClick:R,color:"primary"},"Cancel")),c.createElement(n.A,{marginBottom:2}))},PMFDisplay=({postMessageFunc:e})=>{const t=(0,c.useContext)(u.Mv),a=(0,c.useContext)(u.j8),m=(0,c.useCallback)((()=>{a.dismissPMFBanner(u.nD.LATER,e)}),[a,e]),d=(0,c.useCallback)((()=>{a.dismissPMFBanner(u.nD.NEVER,e)}),[a,e]),p=(0,c.useCallback)((()=>{a.showPMFSurvey(e)}),[a,e]),E=(0,c.useCallback)((t=>{a.submitPMFSurvey(t,e)}),[a,e]);return c.createElement("div",null,c.createElement(r.A,{in:t.isPMFBannerOpen},c.createElement(l.A,{severity:"info"},c.createElement(i.A,null,"Take a quick survey to let us know how we're doing"),c.createElement(n.A,{marginBottom:2}),c.createElement(s.A,{spacing:3,container:!0},c.createElement(s.A,{item:!0},c.createElement(o.A,{variant:"contained",color:"primary",size:"small",onClick:p},"Take Survey")),c.createElement(s.A,{item:!0},c.createElement(o.A,{color:"inherit",size:"small",onClick:m},"Maybe Later")),c.createElement(s.A,{item:!0},c.createElement(o.A,{color:"inherit",size:"small",onClick:d},"No Thanks"))))),c.createElement(PMFDialog,{open:t.isPMFSurveyOpen,onCancel:m,onSave:E}))}},64933:(e,t,a)=>{var r,n,s;a.d(t,{id:()=>n,jG:()=>r}),function(e){e.AtlascodeUiErrors="atlascode.ui.errors"}(r||(r={})),function(e){e.CreateJiraIssuePage="page:v1:jira:createIssue",e.JiraIssuePage="page:v1:jira:issue",e.OldStartWorkPage="page:v1:bitbucket:startWork",e.OnboardingPage="page:v2:onboarding",e.SettingsPage="page:v2:settings",e.BitbucketIssuePage="page:v2:bitbucket:issue",e.PullRequestPage="page:v2:bitbucket:pullRequest",e.CreatePullRequestPage="page:v2:bitbucket:createPullRequest",e.PipelineSummaryPage="page:v2:bitbucket:pipeline",e.StartWorkPage="page:v2:jira:startWork",e.Other="other"}(n||(n={})),function(e){e.Yes="yes",e.Ignore="ignore",e.Disable="disable"}(s||(s={}))},96611:(e,t,a)=>{a.d(t,{H:()=>AtlascodeErrorBoundary});var r=a(74228),n=a(12679),s=a(96540),o=a(64933),l=a(50569);const AtlascodeErrorBoundary=({children:e,postMessageFunc:t,context:a})=>{const i=(0,s.useCallback)((e=>{const{error:r,info:n,...s}=e.payload.attributes;t({type:l.I.SendAnalytics,errorInfo:{...a,errorType:r.name,errorMessage:r.message,errorCause:r.cause,componentStack:simplifyStack(n.componentStack,(e=>{var t;return null===(t=e.match(/in (.*) \(created by (.*)\)/))||void 0===t?void 0:t[1]})),stack:simplifyStack(r.stack,(e=>{var t;return null===(t=e.match(/at (.*) \((.*)\)/))||void 0===t?void 0:t[1]})),...s}})}),[t,a]);return s.createElement(r.A,{channel:o.jG.AtlascodeUiErrors,onEvent:i},s.createElement(n.A,{channel:o.jG.AtlascodeUiErrors,data:{component:"global"}},e))},simplifyStack=(e,t)=>{const a=e.split("\n").map(t).filter(Boolean).join(" < ");return a.length>1500?a.substring(0,1500)+"...":a}}}]);